(window.webpackJsonp=window.webpackJsonp||[]).push([[27],{231:function(a,e,s){"use strict";s.r(e);var t=s(0),r=Object(t.a)({},(function(){var a=this,e=a.$createElement,s=a._self._c||e;return s("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[s("h1",{attrs:{id:"å¸¸ç”¨çš„å‰ç«¯æ„å»ºå·¥å…·-webpack"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#å¸¸ç”¨çš„å‰ç«¯æ„å»ºå·¥å…·-webpack"}},[a._v("#")]),a._v(" å¸¸ç”¨çš„å‰ç«¯æ„å»ºå·¥å…·-Webpack")]),a._v(" "),s("h2",{attrs:{id:"å‰ç«¯æ¨¡å—åŒ–çš„æ‰“åŒ…å·¥å…·"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#å‰ç«¯æ¨¡å—åŒ–çš„æ‰“åŒ…å·¥å…·"}},[a._v("#")]),a._v(" å‰ç«¯æ¨¡å—åŒ–çš„æ‰“åŒ…å·¥å…·")]),a._v(" "),s("p",[a._v("Webpack å‰ç«¯æ¨¡å—åŒ–çš„æ‰“åŒ…å·¥å…·ã€‚å®ƒå°†æ¯ä¸€ä¸ªé™æ€æ–‡ä»¶å½“åšä¸€ä¸ªæ¨¡å—ï¼Œç»è¿‡ä¸€ç³»åˆ—çš„å¤„ç†ä¸ºæˆ‘ä»¬æ•´åˆå‡ºæœ€åçš„éœ€è¦çš„ jsã€cssã€å›¾ç‰‡ã€å­—ä½“ç­‰æ–‡ä»¶ã€‚")]),a._v(" "),s("p",[a._v("æ¨¡å—åŒ–æ˜¯ä¸€ç§å°†ç³»ç»Ÿåˆ†ç¦»æˆç‹¬ç«‹çš„åŠŸèƒ½éƒ¨åˆ†çš„æ–¹æ³•ï¼Œä¸¥æ ¼å®šä¹‰æ¨¡å—æ¥å£ã€æ¨¡å—é—´å…·æœ‰é€æ˜ã€‚")]),a._v(" "),s("h3",{attrs:{id:"æ¨¡å—åŒ–å†å²"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#æ¨¡å—åŒ–å†å²"}},[a._v("#")]),a._v(" æ¨¡å—åŒ–å†å²")]),a._v(" "),s("p",[a._v("1.æ— æ¨¡å—æ—¶ä»£")]),a._v(" "),s("p",[a._v("å…¨å±€å˜é‡æ³›æ»¥ã€å‘½åå†²çªã€ä¾èµ–å…³ç³»ç®¡ç†")]),a._v(" "),s("p",[a._v("2.æ¨¡å—èŒèŠ½æ—¶ä»£")]),a._v(" "),s("p",[a._v("ç«‹å³æ‰§è¡Œå‡½æ•°ï¼ˆIIFEï¼‰")]),a._v(" "),s("p",[a._v("ç»å…¸çš„ä¾‹å­ jqï¼š")]),a._v(" "),s("div",{staticClass:"language-plain line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("(function(window){\n\n\n   window.jQuery = window.$ = jQuery;\n})(window))\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br"),s("span",{staticClass:"line-number"},[a._v("2")]),s("br"),s("span",{staticClass:"line-number"},[a._v("3")]),s("br"),s("span",{staticClass:"line-number"},[a._v("4")]),s("br"),s("span",{staticClass:"line-number"},[a._v("5")]),s("br")])]),s("p",[a._v("3.ç°ä»£åŒ–æ¨¡å—")]),a._v(" "),s("p",[a._v("(1.)CommonJs (é€šè¿‡ require å¼•å…¥)")]),a._v(" "),s("p",[a._v("ï¼ˆ2.ï¼‰RequireJsï¼ˆAMDï¼‰/ SeaJs ï¼ˆCMDï¼‰\n"),s("a",{attrs:{href:"https://www.zhihu.com/question/20351507/answer/14859415",target:"_blank",rel:"noopener noreferrer"}},[a._v("å‚è€ƒ"),s("OutboundLink")],1)]),a._v(" "),s("p",[a._v("ï¼ˆ3.ï¼‰ES6 Moudle")]),a._v(" "),s("h2",{attrs:{id:"ä¸ºä»€ä¹ˆç”¨-webpack"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ä¸ºä»€ä¹ˆç”¨-webpack"}},[a._v("#")]),a._v(" ä¸ºä»€ä¹ˆç”¨ webpack")]),a._v(" "),s("p",[a._v("ä¸€å¥ç©ç¬‘è¯å› ä¸º Vue React ç«ğŸ”¥")]),a._v(" "),s("h3",{attrs:{id:"ä»€ä¹ˆæ˜¯-webpack"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ä»€ä¹ˆæ˜¯-webpack"}},[a._v("#")]),a._v(" ä»€ä¹ˆæ˜¯ Webpack")]),a._v(" "),s("p",[a._v("webpack æ˜¯ä¸€ä¸ªç°ä»£ JavaScript åº”ç”¨ç¨‹åºçš„é™æ€æ¨¡å—æ‰“åŒ…å™¨(module bundler)ã€‚å½“ webpack å¤„ç†åº”ç”¨ç¨‹åºæ—¶ï¼Œå®ƒä¼šé€’å½’åœ°æ„å»ºä¸€ä¸ªä¾èµ–å…³ç³»å›¾(dependency graph)ï¼Œå…¶ä¸­åŒ…å«åº”ç”¨ç¨‹åºéœ€è¦çš„æ¯ä¸ªæ¨¡å—ï¼Œç„¶åå°†æ‰€æœ‰è¿™äº›æ¨¡å—æ‰“åŒ…æˆä¸€ä¸ªæˆ–å¤šä¸ª bundleã€‚")]),a._v(" "),s("p",[a._v("Webpack æ˜¯ä¸€ä¸ªæ¨¡å—æ‰“åŒ…å·¥å…·ï¼Œåœ¨ Webpack é‡Œä¸€åˆ‡æ–‡ä»¶çš†æ¨¡å—ã€‚é€šè¿‡ loader è½¬æ¢æ–‡ä»¶ï¼Œé€šè¿‡ plugin æ³¨å…¥é’©å­ï¼Œæœ€åè¾“å‡ºç”±å¤šä¸ªæ¨¡å—ç»„åˆçš„æ–‡ä»¶ã€‚Webpack ä¸“æ³¨æ„å»ºæ¨¡å—åŒ–é¡¹ç›®ã€‚")]),a._v(" "),s("p",[a._v("Webpack å¯ä»¥çœ‹ä½œæ˜¯æ¨¡å—æ‰“åŒ…æœºï¼šå®ƒåšçš„äº‹æƒ…æ˜¯ï¼Œåˆ†æä½ çš„é¡¹ç›®ç»“æ„ï¼Œæ‰¾åˆ° JavaScript æ¨¡å—ä»¥åŠå…¶ä»–ä¸€äº›ä¸èƒ½è¢«æµè§ˆå™¨ç›´æ¥è¿è¡Œçš„æ‰©å±•è¯­éŸ³(å¦‚ï¼šScss,TypeScript ç­‰)ï¼Œå¹¶å°†å…¶æ‰“åŒ…ä¸ºåˆé€‚çš„æ ¼å¼ä»¥ä¾›æµè§ˆå™¨ä½¿ç”¨ã€‚")]),a._v(" "),s("p",[s("img",{attrs:{src:"https://wendaoshuai66.github.io/study/note/images/webpack.png",alt:"webpack"}})]),a._v(" "),s("h3",{attrs:{id:"webpack-ä¸-gruntã€gulp-çš„ä¸åŒ"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#webpack-ä¸-gruntã€gulp-çš„ä¸åŒ"}},[a._v("#")]),a._v(" Webpack ä¸ Gruntã€Gulp çš„ä¸åŒ")]),a._v(" "),s("p",[a._v("Grunt/Gulp æ˜¯ä¸€ç§èƒ½å¤Ÿä¼˜åŒ–å‰ç«¯å¼€å‘æµç¨‹çš„å·¥å…·ï¼Œè€Œ Webpack æ˜¯ä¸€ç§æ¨¡å—åŒ–çš„è§£å†³æ–¹æ¡ˆã€‚")]),a._v(" "),s("h3",{attrs:{id:"å·¥ä½œæ–¹å¼ä¸åŒ"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#å·¥ä½œæ–¹å¼ä¸åŒ"}},[a._v("#")]),a._v(" å·¥ä½œæ–¹å¼ä¸åŒ")]),a._v(" "),s("p",[a._v("Grunt/Gulp çš„å·¥ä½œæ–¹å¼æ˜¯ï¼šåœ¨ä¸€ä¸ªé…ç½®æ–‡ä»¶ä¸­ï¼ŒæŒ‡æ˜æŸäº›æ–‡ä»¶è¿›è¡Œç±»ä¼¼ç¼–è¯‘/ç»„åˆ/å‹ç¼©ç­‰ä»»åŠ¡çš„å…·ä½“æ­¥éª¤ï¼Œä¹‹åå·¥å…·å¯ä»¥è‡ªåŠ¨å¸®ä½ å®Œæˆè¿™äº›ä»»åŠ¡")]),a._v(" "),s("p",[a._v("Webpack çš„å·¥ä½œæ–¹å¼æ˜¯ï¼šæŠŠé¡¹ç›®å½“ä½œæ˜¯ä¸€ä¸ªæ•´ä½“ï¼Œé€šè¿‡æŒ‡å®šçš„å…¥å£æ–‡ä»¶ï¼ŒWebpack ä¼šä»è¿™ä¸ªå…¥å£æ–‡ä»¶å¼€å§‹æ‰¾åˆ°é¡¹ç›®æ‰€æœ‰çš„ä¾èµ–æ–‡ä»¶ï¼Œç„¶åä½¿ç”¨ loader å¤„ç†å®ƒä»¬ï¼Œæœ€åæ‰“åŒ…æˆä¸€ä¸ªæˆ–å¤šä¸ªæµè§ˆå™¨èƒ½å¤Ÿè¯†åˆ«çš„ JavaScript æ–‡ä»¶")]),a._v(" "),s("h3",{attrs:{id:"æ„å»ºæ€è·¯ä¸åŒ"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#æ„å»ºæ€è·¯ä¸åŒ"}},[a._v("#")]),a._v(" æ„å»ºæ€è·¯ä¸åŒ")]),a._v(" "),s("p",[a._v("Grunt/Gulp éœ€è¦å°†æ•´ä¸ªå‰ç«¯æ„å»ºè¿‡ç¨‹æ‹†åˆ†æˆå¤šä¸ª taskï¼Œåˆç†æ§åˆ¶æ‰€æœ‰ task çš„è°ƒç”¨å…³ç³»")]),a._v(" "),s("p",[a._v("Webpack éœ€è¦å®šä¹‰å¥½å…¥/å‡ºå£ï¼Œå¹¶éœ€è¦æ¸…æ¥šå¯¹äºä¸åŒç±»å‹èµ„æºåº”è¯¥ç”¨ä»€ä¹ˆ loader è§£æç¼–è¯‘")]),a._v(" "),s("p",[a._v("Grunt/Gulp æ˜¯åŸºäºä»»åŠ¡å’Œæµ(task å’Œ stream)çš„ã€‚ç±»ä¼¼ jQuery,æ‰¾åˆ°ä¸€ä¸ª(æˆ–ä¸€ç±»)æ–‡ä»¶ï¼Œå¯¹å…¶åšä¸€ç³»åˆ—çš„é“¾å¼æ“ä½œï¼Œæ›´æ–°æµä¸Šçš„æ•°æ®ï¼Œæ•´æ¡é“¾å¼æ“ä½œæ„æˆäº†ä¸€ä¸ªä»»åŠ¡ï¼Œå¤šä¸ªä»»åŠ¡å°±æ„æˆäº†æ•´ä¸ª Web çš„æ„å»ºæµç¨‹ã€‚")]),a._v(" "),s("p",[a._v("Webpack æ˜¯åŸºäºå…¥å£çš„ã€‚Webpack ä¼šè‡ªåŠ¨çš„é€’å½’è§£æå…¥å£æ‰€éœ€è¦åŠ è½½çš„æ‰€æœ‰èµ„æºæ–‡ä»¶ï¼Œç„¶åç”¨ä¸åŒçš„ loader æ¥å¤„ç†ä¸åŒçš„æ–‡ä»¶ï¼Œç”¨ pulgin æ‰©å±• Webpack åŠŸèƒ½ã€‚")]),a._v(" "),s("h3",{attrs:{id:"èƒŒæ™¯çŸ¥è¯†ä¸åŒ"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#èƒŒæ™¯çŸ¥è¯†ä¸åŒ"}},[a._v("#")]),a._v(" èƒŒæ™¯çŸ¥è¯†ä¸åŒ")]),a._v(" "),s("p",[a._v("Grunt/Gulp æ›´åƒæ˜¯åç«¯å¼€å‘è€…çš„æ€è·¯ï¼Œéœ€è¦å¯¹æ•´ä¸ªæµç¨‹äº†å¦‚æŒ‡æŒã€‚Webpack æ›´å€¾å‘äºå‰ç«¯å¼€å‘è€…çš„æ€è·¯ã€‚")]),a._v(" "),s("h2",{attrs:{id:"webpack-çš„æ„å»ºæµç¨‹æ˜¯æ€ä¹ˆæ ·çš„"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#webpack-çš„æ„å»ºæµç¨‹æ˜¯æ€ä¹ˆæ ·çš„"}},[a._v("#")]),a._v(" Webpack çš„æ„å»ºæµç¨‹æ˜¯æ€ä¹ˆæ ·çš„")]),a._v(" "),s("p",[a._v("Webpack çš„è¿è¡Œæµç¨‹æ˜¯ä¸€ä¸ªä¸²è¡Œçš„è¿‡ç¨‹ï¼Œä»å¯åŠ¨åˆ°ç»“æŸä¼šä¾æ¬¡æ‰§è¡Œä»¥ä¸‹æ­¥éª¤ï¼š")]),a._v(" "),s("p",[a._v("1.åˆå§‹åŒ–å‚æ•°ï¼šä»é…ç½®æ–‡ä»¶å’Œ shell è¯­å¥ä¸­è¯»å–ä¸åˆå¹¶å‚æ•°ï¼Œå¾—åˆ°æœ€ç»ˆå‚æ•°ï¼›")]),a._v(" "),s("p",[a._v("2.å¼€å§‹ç¼–è¯‘ï¼šç”¨ä¸Šä¸€æ­¥å¾—åˆ°çš„å‚æ•°åˆå§‹åŒ– Compiler å¯¹è±¡ï¼ŒåŠ è½½æ‰€æœ‰é…ç½®çš„æ’ä»¶ï¼Œæ‰§è¡Œå¯¹è±¡çš„ run æ–¹æ³•å¼€å§‹æ‰§è¡Œç¼–è¯‘ï¼›")]),a._v(" "),s("p",[a._v("3.ç¡®å®šå…¥å£ï¼šæ ¹æ®é…ç½®ä¸­çš„ entry æ‰¾å‡ºæ‰€æœ‰çš„å…¥å£æ–‡ä»¶ï¼›")]),a._v(" "),s("p",[a._v("4.ç¼–è¯‘æ¨¡å—ï¼šä»å…¥å£æ–‡ä»¶å‡ºå‘ï¼Œè°ƒç”¨æ‰€æœ‰é…ç½®çš„ loader å¯¹æ¨¡å—è¿›è¡Œç¼–è¯‘ã€‚å†æ‰¾å‡ºè¯¥æ¨¡å—ä¾èµ–çš„æ¨¡å—ï¼Œå†é€’å½’æœ¬æ­¥éª¤ï¼Œç›´åˆ°æ‰€æœ‰å…¥å£ä¾èµ–çš„æ–‡ä»¶éƒ½ç»è¿‡æœ¬æ­¥éª¤çš„å¤„ç†ï¼›")]),a._v(" "),s("p",[a._v("5.å®Œæˆæ¨¡å—ç¼–è¯‘ï¼šåœ¨ç»è¿‡ç¬¬å››ä¸ªæ­¥éª¤ä½¿ç”¨ loader ç¼–è¯‘å®Œæ‰€æœ‰æ¨¡å—åï¼Œå¾—åˆ°æ¯ä¸ªæ¨¡å—è¢«ç¼–è¯‘åçš„æœ€ç»ˆå†…å®¹ä»¥åŠå®ƒä»¬ä¹‹é—´çš„ä¾èµ–å…³ç³»ï¼›")]),a._v(" "),s("p",[a._v("6.è¾“å‡ºèµ„æºï¼šæ ¹æ®å…¥å£å’Œæ¨¡å—ä¹‹é—´çš„ä¾èµ–å…³ç³»ï¼Œç»„è£…æˆä¸€ä¸ªä¸ªåŒ…å«å¤šä¸ªæ¨¡å—çš„ Chunkï¼Œå†æŠŠæ¯ä¸ª Chunk è½¬æ¢æˆä¸€ä¸ªå•ç‹¬çš„æ–‡ä»¶åŠ å…¥åˆ°è¾“å‡ºåˆ—è¡¨ï¼Œè¿™æ­¥æ˜¯å¯ä»¥ä¿®æ”¹è¾“å‡ºå†…å®¹çš„æœ€åæœºä¼šï¼›")]),a._v(" "),s("p",[a._v("7.è¾“å‡ºå®Œæˆï¼šåœ¨ç¡®è®¤å¥½è¾“å‡ºå†…å®¹åï¼Œæ ¹æ®é…ç½®ç¡®å®šè¾“å‡ºçš„è·¯å¾„å’Œæ–‡ä»¶åï¼ŒæŠŠæ–‡ä»¶å†…å®¹å†™è¿›åˆ°æ–‡ä»¶ç³»ç»Ÿä¸­ï¼›")]),a._v(" "),s("p",[a._v("åœ¨ä»¥ä¸Šè¿‡ç¨‹ä¸­ï¼ŒWebpack ä¼šåœ¨ç‰¹å®šçš„çš„æ—¶é—´ç‚¹å¹¿æ’­ç‰¹å®šçš„äº‹ä»¶ï¼Œæ’ä»¶åœ¨ç›‘å¬åˆ°æ„Ÿå…´è¶£çš„äº‹ä»¶åä¼šæ‰§è¡Œç‰¹å®šçš„é€»è¾‘ã€‚å¹¶ä¸”æ’ä»¶å¯ä»¥è°ƒç”¨ Webpack æä¾›çš„ API æ”¹å˜ Webpack çš„è¿è¡Œç»“æœã€‚")]),a._v(" "),s("h2",{attrs:{id:"åˆ†åˆ«ä»‹ç»-bundleï¼Œchunkï¼Œmodule-æ˜¯ä»€ä¹ˆ"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#åˆ†åˆ«ä»‹ç»-bundleï¼Œchunkï¼Œmodule-æ˜¯ä»€ä¹ˆ"}},[a._v("#")]),a._v(" åˆ†åˆ«ä»‹ç» bundleï¼Œchunkï¼Œmodule æ˜¯ä»€ä¹ˆ")]),a._v(" "),s("p",[a._v("bundleï¼šç”± Webpack æ‰“åŒ…å‡ºæ¥çš„æ–‡ä»¶")]),a._v(" "),s("p",[a._v("chunkï¼šä»£ç å—ï¼Œwebpack åœ¨è¿›è¡Œæ¨¡å—çš„ä¾èµ–åˆ†æçš„æ—¶å€™ï¼Œä»£ç åˆ†å‰²å‡ºæ¥çš„ä»£ç å—")]),a._v(" "),s("p",[a._v("moduleï¼šæ˜¯å¼€å‘ä¸­çš„å•ä¸ªæ¨¡å—ï¼Œåœ¨ Webpack ä¸­ï¼Œä¸€åˆ‡çš†æ¨¡å—ï¼Œä¸€ä¸ªæ¨¡å—å¯¹åº”ä¸€ä¸ªæ–‡ä»¶")]),a._v(" "),s("h2",{attrs:{id:"ä»€ä¹ˆæ˜¯-loader-ä»€ä¹ˆæ˜¯-plugin"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ä»€ä¹ˆæ˜¯-loader-ä»€ä¹ˆæ˜¯-plugin"}},[a._v("#")]),a._v(" ä»€ä¹ˆæ˜¯ Loader?ä»€ä¹ˆæ˜¯ Plugin")]),a._v(" "),s("p",[a._v("loader: æ¨¡å—è½¬æ¢å™¨ï¼Œç”¨äºå¯¹æ¨¡å—çš„æºä»£ç è¿›è¡Œè½¬æ¢")]),a._v(" "),s("p",[a._v("plugin: è‡ªå®šä¹‰ webpack æ‰“åŒ…è¿‡ç¨‹çš„æ–¹å¼ï¼Œæ’ä»¶å«æœ‰ apply å±æ€§çš„ JavaScript å¯¹è±¡ï¼Œapply å±æ€§ä¼šè¢« webpack compiler è°ƒç”¨ï¼Œå¹¶ä¸” compiler å¯¹è±¡å¯ä»¥åœ¨æ•´ä¸ªç¼–è¯‘ç”Ÿå‘½å‘¨æœŸå†…è®¿é—®")]),a._v(" "),s("h2",{attrs:{id:"loader-å’Œ-plugin-æœ‰å“ªäº›ä¸åŒ"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#loader-å’Œ-plugin-æœ‰å“ªäº›ä¸åŒ"}},[a._v("#")]),a._v(" loader å’Œ plugin æœ‰å“ªäº›ä¸åŒ")]),a._v(" "),s("h3",{attrs:{id:"ä¸åŒçš„ä½œç”¨"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ä¸åŒçš„ä½œç”¨"}},[a._v("#")]),a._v(" ä¸åŒçš„ä½œç”¨")]),a._v(" "),s("p",[a._v('loader ç›´è¯‘ä¸ºâ€œåŠ è½½å™¨"ï¼ŒWebpack å°†ä¸€åˆ‡æ–‡ä»¶è§†ä¸ºæ¨¡å—ï¼Œä½†æ˜¯ Webpack åŸç”Ÿåªèƒ½è§£æ JavaScript å’Œ JSON ç±»å‹æ–‡ä»¶ã€‚å¦‚æœæƒ³åŠ è½½è§£æå…¶ä»–ç±»å‹æ–‡ä»¶ï¼Œå°±ä¼šç”¨åˆ° loaderã€‚æ‰€ä»¥ loader æ˜¯è®© Webpack æ‹¥æœ‰åŠ è½½å’Œè§£æé JavaScript æ–‡ä»¶çš„èƒ½åŠ›')]),a._v(" "),s("p",[a._v("plugin ç›´è¯‘ä¸ºâ€æ’ä»¶â€œï¼Œplugin å¯ä»¥æ‰©å±• Webpack çš„åŠŸèƒ½ï¼Œè®© Webpack å…·æœ‰æ›´å¤šçš„çµæ´»æ€§ã€‚åœ¨ Webpack è¿è¡Œçš„ç”Ÿå‘½å‘¨æœŸä¸­ä¼šå¹¿æ’­è®¸å¤šäº‹ä»¶ï¼Œplugin å¯ä»¥ç›‘å¬è¿™äº›äº‹ä»¶ï¼Œåœ¨åˆé€‚çš„æ—¶æœºé€šè¿‡ Webpack æä¾›çš„ API æ”¹å˜è¾“å‡ºç»“æœ")]),a._v(" "),s("h3",{attrs:{id:"ä¸åŒçš„ç”¨æ³•"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ä¸åŒçš„ç”¨æ³•"}},[a._v("#")]),a._v(" ä¸åŒçš„ç”¨æ³•")]),a._v(" "),s("p",[a._v("loader åœ¨ module rules ä¸­é…ç½®ï¼Œä¹Ÿå°±è¯´å®ƒä½œä¸ºæ¨¡å—è§£æè§„åˆ™å­˜åœ¨ã€‚ç±»å‹ä¸º Arrayï¼Œæ¯ä¸€é¡¹éƒ½æ˜¯ä¸€ä¸ª Objectï¼Œé‡Œé¢æè¿°äº†ä»€ä¹ˆç±»å‹çš„æ–‡ä»¶(test)ï¼Œä½¿ç”¨ä»€ä¹ˆåŠ è½½(loader)å’Œä½¿ç”¨çš„å‚æ•°(options)")]),a._v(" "),s("p",[a._v("plugin å•ç‹¬åœ¨ plugins ä¸­å•ç‹¬é…ç½®ã€‚ç±»å‹ä¸º Arrayï¼Œæ¯é¡¹éƒ½æ˜¯ä¸€ä¸ª plugin çš„å®ä¾‹ï¼Œå‚æ•°æ˜¯é€šè¿‡æ„é€ å‡½æ•°ä¼ å…¥")]),a._v(" "),s("h2",{attrs:{id:"æœ‰å“ªäº›å¸¸è§çš„-loader"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#æœ‰å“ªäº›å¸¸è§çš„-loader"}},[a._v("#")]),a._v(" æœ‰å“ªäº›å¸¸è§çš„ Loader")]),a._v(" "),s("p",[a._v("file-loader: å°†æ–‡ä»¶è¾“å‡ºåˆ°ä¸€ä¸ªæ–‡ä»¶å¤¹ä¸­ï¼Œåœ¨ä»£ç ä¸­é€šè¿‡ç›¸å¯¹è·¯å¾„(url)å»å¼•ç”¨è¾“å‡ºçš„æ–‡ä»¶")]),a._v(" "),s("p",[a._v("url-loader: å’Œ file-loader ç±»ä¼¼ï¼Œä½†æ˜¯èƒ½åœ¨æ–‡ä»¶å¾ˆå°çš„æƒ…å†µä¸‹ï¼Œä»¥ base64 çš„æ–¹å¼å°†å†…å®¹æ³¨å…¥åˆ°ä»£ç ä¸­")]),a._v(" "),s("p",[a._v("image-loader: åŠ è½½å¹¶å‹ç¼©å›¾ç‰‡æ–‡ä»¶")]),a._v(" "),s("p",[a._v("babel-lodader: å°† ES6 è½¬æˆ ES5")]),a._v(" "),s("p",[a._v("css-loader: åŠ è½½ CSSï¼Œæ”¯æŒæ¨¡å—åŒ–/å‹ç¼©/æ–‡ä»¶å¯¼å…¥ç­‰ç‰¹æ€§")]),a._v(" "),s("p",[a._v("style-loaderï¼šæŠŠ CSS ä»£ç æ³¨å…¥åˆ° JavaScript ä¸­ï¼Œé€šè¿‡ DOM æ“ä½œå»åŠ è½½ CSS")]),a._v(" "),s("p",[a._v("eslint-loader: é€šè¿‡ ESlint æ£€æŸ¥ JavaScript ä»£ç ")]),a._v(" "),s("h2",{attrs:{id:"æœ‰å“ªäº›å¸¸è§çš„-plugin"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#æœ‰å“ªäº›å¸¸è§çš„-plugin"}},[a._v("#")]),a._v(" æœ‰å“ªäº›å¸¸è§çš„ Plugin")]),a._v(" "),s("p",[a._v("define-plugin: å®šä¹‰ç¯å¢ƒå˜é‡")]),a._v(" "),s("p",[a._v("html-webpack-pulgin: ç”Ÿæˆåˆ›å»º html å…¥å£æ–‡ä»¶ï¼Œå¹¶å¼•ç”¨å¯¹åº”çš„å¤–éƒ¨èµ„æº")]),a._v(" "),s("p",[a._v("uglifyjs-plugin: é€šè¿‡ Uglifyjs å‹ç¼© JavaScript ä»£ç ")]),a._v(" "),s("p",[a._v("mini-css-extract-plugin: åˆ†ç¦» CSS æ–‡ä»¶")]),a._v(" "),s("p",[a._v("clean-webpack-plugin: åˆ é™¤æ‰“åŒ…æ–‡ä»¶")]),a._v(" "),s("p",[a._v("happypack: å®ç°å¤šçº¿ç¨‹åŠ é€Ÿç¼–è¯‘")]),a._v(" "),s("h2",{attrs:{id:"tree-shaking"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#tree-shaking"}},[a._v("#")]),a._v(" Tree Shaking")]),a._v(" "),s("p",[a._v("ä¸ºäº†ä½¿ç”¨ tree shakingï¼Œéœ€è¦æ»¡è¶³ä»¥ä¸‹æ¡ä»¶ï¼š")]),a._v(" "),s("p",[a._v("1.ä½¿ç”¨ ES2015 è¯­æ³•(å³ import å’Œ export)")]),a._v(" "),s("p",[a._v("2.åœ¨é¡¹ç›® package.json æ–‡ä»¶ä¸­ï¼Œæ·»åŠ  sideEffects å…¥å£")]),a._v(" "),s("p",[a._v("3.å¼•å…¥ä¸€ä¸ªèƒ½å¤Ÿåˆ é™¤æœªå¼•ç”¨ä»£ç (dead code)çš„å‹ç¼©å·¥å…·(minifier)(ä¾‹å¦‚ï¼šUglifyJSPlugin)")]),a._v(" "),s("h3",{attrs:{id:"å°†æ–‡ä»¶æ ‡è®°ä¸ºæ— å‰¯ä½œç”¨-side-effect-free"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#å°†æ–‡ä»¶æ ‡è®°ä¸ºæ— å‰¯ä½œç”¨-side-effect-free"}},[a._v("#")]),a._v(" å°†æ–‡ä»¶æ ‡è®°ä¸ºæ— å‰¯ä½œç”¨(side-effect-free)")]),a._v(" "),s("p",[a._v("è¿™ç§æ–¹å¼æ˜¯é€šè¿‡ package.json çš„ sideEffects å±æ€§æ¥å®ç°çš„ã€‚")]),a._v(" "),s("div",{staticClass:"language-plain line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v('{\n  "sideEffects": false\n}\n')])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br"),s("span",{staticClass:"line-number"},[a._v("2")]),s("br"),s("span",{staticClass:"line-number"},[a._v("3")]),s("br")])]),s("p",[a._v("ã€Œå‰¯ä½œç”¨ã€çš„å®šä¹‰æ˜¯ï¼Œåœ¨å¯¼å…¥æ—¶ä¼šæ‰§è¡Œç‰¹æ®Šè¡Œä¸ºçš„ä»£ç ï¼Œè€Œä¸æ˜¯ä»…ä»…æš´éœ²ä¸€ä¸ª export æˆ–å¤šä¸ª exportã€‚ä¸¾ä¾‹è¯´æ˜ï¼Œä¾‹å¦‚ polyfillï¼Œå®ƒå½±å“å…¨å±€ä½œç”¨åŸŸï¼Œå¹¶ä¸”é€šå¸¸ä¸æä¾› exportã€‚")]),a._v(" "),s("p",[a._v("æ³¨æ„ï¼Œä»»ä½•å¯¼å…¥çš„æ–‡ä»¶éƒ½ä¼šå—åˆ° tree shaking çš„å½±å“ã€‚è¿™æ„å‘³ç€ï¼Œå¦‚æœåœ¨é¡¹ç›®ä¸­ä½¿ç”¨ç±»ä¼¼ css-loader å¹¶å¯¼å…¥ CSS æ–‡ä»¶ï¼Œåˆ™éœ€è¦å°†å…¶æ·»åŠ åˆ° side effect åˆ—è¡¨ä¸­ï¼Œä»¥å…åœ¨ç”Ÿäº§æ¨¡å¼ä¸­æ— æ„ä¸­å°†å®ƒåˆ é™¤ï¼š")]),a._v(" "),s("div",{staticClass:"language-plain line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("{\n  \"sideEffects\": ['*.css']\n}\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br"),s("span",{staticClass:"line-number"},[a._v("2")]),s("br"),s("span",{staticClass:"line-number"},[a._v("3")]),s("br")])]),s("h3",{attrs:{id:"å‹ç¼©è¾“å‡º"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#å‹ç¼©è¾“å‡º"}},[a._v("#")]),a._v(" å‹ç¼©è¾“å‡º")]),a._v(" "),s("p",[a._v('ä» webpack 4 å¼€å§‹ï¼Œä¹Ÿå¯ä»¥é€šè¿‡ "mode" é…ç½®é€‰é¡¹è½»æ¾åˆ‡æ¢åˆ°å‹ç¼©è¾“å‡ºï¼Œåªéœ€è®¾ç½®ä¸º "production"ã€‚')]),a._v(" "),s("p",[a._v("ä¹Ÿå¯ä»¥åœ¨å‘½ä»¤è¡Œæ¥å£ä¸­ä½¿ç”¨--optimize-minimize æ ‡è®°ï¼Œæ¥ä½¿ç”¨ UglifyjsPluginã€‚")]),a._v(" "),s("h2",{attrs:{id:"code-splitting"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#code-splitting"}},[a._v("#")]),a._v(" Code Splitting")]),a._v(" "),s("p",[a._v("code splitting çš„å¿…è¦æ€§")]),a._v(" "),s("p",[a._v("â¡ï¸ä¸è¿›è¡Œ code splittingï¼Œæ‰“åŒ…åå•æ–‡ä»¶æäº¤è¾ƒå¤§ï¼ŒåŠ è½½æ—¶é•¿è¾ƒé•¿ï¼Œå½±å“ç”¨æˆ·ä½“éªŒ")]),a._v(" "),s("p",[a._v("â¡ï¸ä¸è¿›è¡Œ code splittingï¼Œç»å¸¸ä¿®æ”¹ä¸šåŠ¡ä»£ç ï¼Œé‡æ–°æ‰“åŒ…åï¼Œæµè§ˆå™¨ä¸èƒ½è¿›è¡Œç¼“å­˜ï¼Œå¯¼è‡´æ€§èƒ½è¾ƒå·®ï¼Œå½±å“ç”¨æˆ·ä½“éªŒ")]),a._v(" "),s("h3",{attrs:{id:"åŒæ­¥ä»£ç "}},[s("a",{staticClass:"header-anchor",attrs:{href:"#åŒæ­¥ä»£ç "}},[a._v("#")]),a._v(" åŒæ­¥ä»£ç ")]),a._v(" "),s("div",{staticClass:"language-plain line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("import _ from 'lodash';\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("p",[a._v("webpack.common.js é…ç½®å¦‚ä¸‹ï¼š")]),a._v(" "),s("div",{staticClass:"language-plain line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("....\noptimization: {\n  splitChunks: {\n    chunks: 'all'\n  }\n}\n....\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br"),s("span",{staticClass:"line-number"},[a._v("2")]),s("br"),s("span",{staticClass:"line-number"},[a._v("3")]),s("br"),s("span",{staticClass:"line-number"},[a._v("4")]),s("br"),s("span",{staticClass:"line-number"},[a._v("5")]),s("br"),s("span",{staticClass:"line-number"},[a._v("6")]),s("br"),s("span",{staticClass:"line-number"},[a._v("7")]),s("br")])]),s("p",[a._v("é…ç½®åï¼Œä¼šå°†å…¬ç”¨ç±»åº“è¿›è¡Œæ‰“åŒ…ï¼Œç”Ÿæˆä¸€ä¸ª vendors~main.js æ–‡ä»¶ã€‚")]),a._v(" "),s("h3",{attrs:{id:"å¼‚æ­¥ä»£ç "}},[s("a",{staticClass:"header-anchor",attrs:{href:"#å¼‚æ­¥ä»£ç "}},[a._v("#")]),a._v(" å¼‚æ­¥ä»£ç ")]),a._v(" "),s("div",{staticClass:"language-plain line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("function getComponent() {\n  return import('lodash').then(({ default: _ }) => {\n    var element = document.createElement('div');\n    element.innerHTML = _.join(['Clear', 'love'], '');\n    return element;\n  })\n}\n\ngetComponent().then(element => {\n  document.body.appendChild(element);\n})\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br"),s("span",{staticClass:"line-number"},[a._v("2")]),s("br"),s("span",{staticClass:"line-number"},[a._v("3")]),s("br"),s("span",{staticClass:"line-number"},[a._v("4")]),s("br"),s("span",{staticClass:"line-number"},[a._v("5")]),s("br"),s("span",{staticClass:"line-number"},[a._v("6")]),s("br"),s("span",{staticClass:"line-number"},[a._v("7")]),s("br"),s("span",{staticClass:"line-number"},[a._v("8")]),s("br"),s("span",{staticClass:"line-number"},[a._v("9")]),s("br"),s("span",{staticClass:"line-number"},[a._v("10")]),s("br"),s("span",{staticClass:"line-number"},[a._v("11")]),s("br")])]),s("h2",{attrs:{id:"webpack-dev-server-å’Œ-http-æœåŠ¡å™¨å¦‚-nginx-æœ‰ä»€ä¹ˆåŒºåˆ«"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#webpack-dev-server-å’Œ-http-æœåŠ¡å™¨å¦‚-nginx-æœ‰ä»€ä¹ˆåŒºåˆ«"}},[a._v("#")]),a._v(" webpack-dev-server å’Œ http æœåŠ¡å™¨å¦‚ nginx æœ‰ä»€ä¹ˆåŒºåˆ«")]),a._v(" "),s("p",[a._v("webpack-dev-server ä½¿ç”¨å†…å­˜æ¥å­˜å‚¨ Webpack å¼€å‘ç¯å¢ƒä¸‹æ‰“åŒ…çš„æ–‡ä»¶ï¼Œå¹¶ä¸”å¯ä»¥ä½¿ç”¨æ¨¡å—çƒ­æ›´æ–°ï¼Œå®ƒæ¯”ä¼ ç»Ÿçš„ http æœåŠ¡å¯¹å¼€å‘æ›´åŠ ç®€å•é«˜æ•ˆã€‚")]),a._v(" "),s("h2",{attrs:{id:"ä»€ä¹ˆ-æ˜¯æ¨¡å—çƒ­æ›´æ–°"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ä»€ä¹ˆ-æ˜¯æ¨¡å—çƒ­æ›´æ–°"}},[a._v("#")]),a._v(" ä»€ä¹ˆ æ˜¯æ¨¡å—çƒ­æ›´æ–°")]),a._v(" "),s("p",[a._v("æ¨¡å—çƒ­æ›´æ–°æ˜¯ Webpack æ˜¯çš„ä¸€ä¸ªåŠŸèƒ½ï¼Œå®ƒå¯ä»¥ä½¿å¾—ä»£ç ä¿®æ”¹ä»¥åä¸éœ€åˆ·æ–°æµè§ˆå™¨å°±å¯ä»¥æ›´æ–°ï¼Œæ˜¯é«˜çº§ç‰ˆçš„è‡ªåŠ¨åˆ·æ–°æµè§ˆå™¨ã€‚devServer é€šè¿‡ hot å±æ€§å¯ä»¥æ§åˆ¶æ¨¡å—çƒ­æ›´æ›¿ã€‚")]),a._v(" "),s("p",[a._v("##é€šè¿‡é…ç½®æ–‡ä»¶")]),a._v(" "),s("div",{staticClass:"language-plain line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v('const webpack = require(\'webpack\');\nconst path = require(\'path\');\nlet env = process.env.NODE_ENV == "development" ? "development" : "production";\nconst config = {\n  mode: env,\n  devServer: {\n     hot:true\n  },\n  plugins: [\n     new webpack.HotModuleReplacementPlugin(), //çƒ­åŠ è½½æ’ä»¶\n  ]\n}\nmodule.exports = config;\n')])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br"),s("span",{staticClass:"line-number"},[a._v("2")]),s("br"),s("span",{staticClass:"line-number"},[a._v("3")]),s("br"),s("span",{staticClass:"line-number"},[a._v("4")]),s("br"),s("span",{staticClass:"line-number"},[a._v("5")]),s("br"),s("span",{staticClass:"line-number"},[a._v("6")]),s("br"),s("span",{staticClass:"line-number"},[a._v("7")]),s("br"),s("span",{staticClass:"line-number"},[a._v("8")]),s("br"),s("span",{staticClass:"line-number"},[a._v("9")]),s("br"),s("span",{staticClass:"line-number"},[a._v("10")]),s("br"),s("span",{staticClass:"line-number"},[a._v("11")]),s("br"),s("span",{staticClass:"line-number"},[a._v("12")]),s("br"),s("span",{staticClass:"line-number"},[a._v("13")]),s("br")])]),s("h3",{attrs:{id:"é€šè¿‡å‘½ä»¤è¡Œ"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#é€šè¿‡å‘½ä»¤è¡Œ"}},[a._v("#")]),a._v(" é€šè¿‡å‘½ä»¤è¡Œ")]),a._v(" "),s("div",{staticClass:"language-plain line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v('"script": {\n  "start": "NODE_EVN=development webpack-dev-server --config webpack-devlop-config.js --hot"\n}\n')])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br"),s("span",{staticClass:"line-number"},[a._v("2")]),s("br"),s("span",{staticClass:"line-number"},[a._v("3")]),s("br")])]),s("h2",{attrs:{id:"webpack-çš„çƒ­æ›´æ–°æ˜¯å¦‚ä½•åšåˆ°çš„ï¼Ÿè¯´æ˜å…¶åŸç†"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#webpack-çš„çƒ­æ›´æ–°æ˜¯å¦‚ä½•åšåˆ°çš„ï¼Ÿè¯´æ˜å…¶åŸç†"}},[a._v("#")]),a._v(" Webpack çš„çƒ­æ›´æ–°æ˜¯å¦‚ä½•åšåˆ°çš„ï¼Ÿè¯´æ˜å…¶åŸç†")]),a._v(" "),s("p",[a._v("Webpack çš„çƒ­æ›´æ–°æœ‰ç§°ä¸ºçƒ­æ›¿æ¢(Hot Module Replacement)ï¼Œç¼©å†™ä¸º HMRã€‚è¿™ä¸ªæœºåˆ¶å¯ä»¥å®ç°ä¸åˆ·æ–°æµè§ˆå™¨è€Œå°†æ–°å˜æ›´çš„æ¨¡å—æ›¿æ¢æ—§çš„æ¨¡å—ã€‚åŸç†å¦‚ä¸‹ï¼š")]),a._v(" "),s("p",[s("img",{attrs:{src:"https://wendaoshuai66.github.io/study/note/images/hmr.jpeg",alt:""}})]),a._v(" "),s("h3",{attrs:{id:"server-ç«¯å’Œ-client-ç«¯éƒ½åšäº†å“ªäº›å…·ä½“å·¥ä½œ"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#server-ç«¯å’Œ-client-ç«¯éƒ½åšäº†å“ªäº›å…·ä½“å·¥ä½œ"}},[a._v("#")]),a._v(" server ç«¯å’Œ client ç«¯éƒ½åšäº†å“ªäº›å…·ä½“å·¥ä½œ")]),a._v(" "),s("p",[a._v("1.ç¬¬ä¸€æ­¥ï¼Œåœ¨ Webpack çš„ watch æ¨¡å¼ä¸‹ï¼Œæ–‡ä»¶ç³»ç»Ÿä¸­æŸä¸€ä¸ªæ–‡ä»¶å‘ç”Ÿä¿®æ”¹ï¼ŒWebpack ç›‘å¬åˆ°æ–‡ä»¶å˜åŒ–ï¼Œæ ¹æ®é…ç½®æ–‡ä»¶å¯¹æ¨¡å—é‡æ–°ç¼–è¯‘æ‰“åŒ…ï¼Œå¹¶å°†æ‰“åŒ…åçš„ä»£ç é€šè¿‡ç®€å•çš„ JavaScript å¯¹è±¡ä¿å­˜åœ¨å†…å­˜ä¸­ã€‚")]),a._v(" "),s("p",[a._v("2.ç¬¬äºŒæ­¥æ˜¯ Webpack-dev-server å’Œ Webpack ä¹‹é—´çš„æ¥å£äº¤äº’ï¼Œè€Œåœ¨è¿™ä¸€æ­¥ï¼Œä¸»è¦æ˜¯ dev-server çš„ä¸­é—´ä»¶ Webpack-dev-middleware å’Œ Webpack ä¹‹é—´çš„äº¤äº’ï¼ŒWebpack-dev-middleware è°ƒç”¨ Webpack æš´éœ²çš„ API å¯¹ä»£ç å˜åŒ–è¿›è¡Œç›‘æ§ï¼Œå¹¶ä¸”å‘Šè¯‰ webpackï¼Œå°†ä»£ç æ‰“åŒ…åˆ°å†…å­˜ä¸­ã€‚")]),a._v(" "),s("p",[a._v("3.ç¬¬ä¸‰æ­¥æ˜¯ Webpack-dev-server å¯¹æ–‡ä»¶å˜åŒ–çš„ä¸€ä¸ªç›‘æ§ï¼Œè¿™ä¸€æ­¥ä¸åŒäºç¬¬ä¸€æ­¥ï¼Œå¹¶ä¸æ˜¯ç›‘æ§ä»£ç å˜åŒ–é‡æ–°æ‰“åŒ…ã€‚å½“æˆ‘ä»¬åœ¨é…ç½®æ–‡ä»¶ä¸­é…ç½®äº† devServer.watchContentBase ä¸º true çš„æ—¶å€™ï¼ŒServer ä¼šç›‘å¬è¿™äº›é…ç½®æ–‡ä»¶å¤¹ä¸­é™æ€æ–‡ä»¶çš„å˜åŒ–ï¼Œå˜åŒ–åä¼šé€šçŸ¥æµè§ˆå™¨ç«¯å¯¹åº”ç”¨è¿›è¡Œ live reloadã€‚æ³¨æ„ï¼Œè¿™å„¿æ˜¯æµè§ˆå™¨åˆ·æ–°ï¼Œå’Œ HMR æ˜¯ä¸¤ä¸ªæ¦‚å¿µã€‚")]),a._v(" "),s("p",[a._v("4.ç¬¬å››æ­¥ä¹Ÿæ˜¯ webpack-dev-server ä»£ç çš„å·¥ä½œï¼Œè¯¥æ­¥éª¤ä¸»è¦æ˜¯é€šè¿‡ sockjsï¼ˆwebpack-dev-server çš„ä¾èµ–ï¼‰åœ¨æµè§ˆå™¨ç«¯å’ŒæœåŠ¡ç«¯ä¹‹é—´å»ºç«‹ä¸€ä¸ª websocket é•¿è¿æ¥ï¼Œå°† Webpack ç¼–è¯‘æ‰“åŒ…çš„å„ä¸ªé˜¶æ®µçš„çŠ¶æ€ä¿¡æ¯å‘ŠçŸ¥æµè§ˆå™¨ç«¯ï¼ŒåŒæ—¶ä¹ŸåŒ…æ‹¬ç¬¬ä¸‰æ­¥ä¸­ Server ç›‘å¬é™æ€æ–‡ä»¶å˜åŒ–çš„ä¿¡æ¯ã€‚æµè§ˆå™¨ç«¯æ ¹æ®è¿™äº› socket æ¶ˆæ¯è¿›è¡Œä¸åŒçš„æ“ä½œã€‚å½“ç„¶æœåŠ¡ç«¯ä¼ é€’çš„æœ€ä¸»è¦ä¿¡æ¯è¿˜æ˜¯æ–°æ¨¡å—çš„ hash å€¼ï¼Œåé¢çš„æ­¥éª¤æ ¹æ®è¿™ä¸€ hash å€¼æ¥è¿›è¡Œæ¨¡å—çƒ­æ›¿æ¢ã€‚")]),a._v(" "),s("p",[a._v("5.webpack-dev-server/client ç«¯å¹¶ä¸èƒ½å¤Ÿè¯·æ±‚æ›´æ–°çš„ä»£ç ï¼Œä¹Ÿä¸ä¼šæ‰§è¡Œçƒ­æ›´æ¨¡å—æ“ä½œï¼Œè€ŒæŠŠè¿™äº›å·¥ä½œåˆäº¤å›ç»™äº† Webpackï¼Œwebpack/hot/dev-server çš„å·¥ä½œå°±æ˜¯æ ¹æ® webpack-dev-server/client ä¼ ç»™å®ƒçš„ä¿¡æ¯ä»¥åŠ dev-server çš„é…ç½®å†³å®šæ˜¯åˆ·æ–°æµè§ˆå™¨å‘¢è¿˜æ˜¯è¿›è¡Œæ¨¡å—çƒ­æ›´æ–°ã€‚å½“ç„¶å¦‚æœä»…ä»…æ˜¯åˆ·æ–°æµè§ˆå™¨ï¼Œä¹Ÿå°±æ²¡æœ‰åé¢é‚£äº›æ­¥éª¤äº†ã€‚")]),a._v(" "),s("p",[a._v("6.HotModuleReplacement.runtime æ˜¯å®¢æˆ·ç«¯ HMR çš„ä¸­æ¢ï¼Œå®ƒæ¥æ”¶åˆ°ä¸Šä¸€æ­¥ä¼ é€’ç»™ä»–çš„æ–°æ¨¡å—çš„ hash å€¼ï¼Œå®ƒé€šè¿‡ JsonpMainTemplate.runtime å‘ server ç«¯å‘é€ Ajax è¯·æ±‚ï¼ŒæœåŠ¡ç«¯è¿”å›ä¸€ä¸ª jsonï¼Œè¯¥ json åŒ…å«äº†æ‰€æœ‰è¦æ›´æ–°çš„æ¨¡å—çš„ hash å€¼ï¼Œè·å–åˆ°æ›´æ–°åˆ—è¡¨åï¼Œè¯¥æ¨¡å—å†æ¬¡é€šè¿‡ jsonp è¯·æ±‚ï¼Œè·å–åˆ°æœ€æ–°çš„æ¨¡å—ä»£ç ã€‚è¿™å°±æ˜¯ä¸Šå›¾ä¸­ 7ã€8ã€9 æ­¥éª¤ã€‚")]),a._v(" "),s("p",[a._v("7.è€Œç¬¬ 10 æ­¥æ˜¯å†³å®š HMR æˆåŠŸä¸å¦çš„å…³é”®æ­¥éª¤ï¼Œåœ¨è¯¥æ­¥éª¤ä¸­ï¼ŒHotModulePlugin å°†ä¼šå¯¹æ–°æ—§æ¨¡å—è¿›è¡Œå¯¹æ¯”ï¼Œå†³å®šæ˜¯å¦æ›´æ–°æ¨¡å—ï¼Œåœ¨å†³å®šæ›´æ–°æ¨¡å—åï¼Œæ£€æŸ¥æ¨¡å—ä¹‹é—´çš„ä¾èµ–å…³ç³»ï¼Œæ›´æ–°æ¨¡å—çš„åŒæ—¶æ›´æ–°æ¨¡å—é—´çš„ä¾èµ–å¼•ç”¨ã€‚")]),a._v(" "),s("p",[a._v("8.æœ€åä¸€æ­¥ï¼Œå½“ HMR å¤±è´¥åï¼Œå›é€€åˆ° live reload æ“ä½œï¼Œä¹Ÿå°±æ˜¯è¿›è¡Œæµè§ˆå™¨åˆ·æ–°æ¥è·å–æœ€æ–°æ‰“åŒ…ä»£ç ã€‚")]),a._v(" "),s("h2",{attrs:{id:"å¦‚ä½•æé«˜-webpack-çš„æ„å»ºé€Ÿåº¦"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#å¦‚ä½•æé«˜-webpack-çš„æ„å»ºé€Ÿåº¦"}},[a._v("#")]),a._v(" å¦‚ä½•æé«˜ webpack çš„æ„å»ºé€Ÿåº¦")]),a._v(" "),s("h3",{attrs:{id:"å¸¸è§„"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#å¸¸è§„"}},[a._v("#")]),a._v(" å¸¸è§„")]),a._v(" "),s("h4",{attrs:{id:"ä¿æŒç‰ˆæœ¬æœ€æ–°"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ä¿æŒç‰ˆæœ¬æœ€æ–°"}},[a._v("#")]),a._v(" ä¿æŒç‰ˆæœ¬æœ€æ–°")]),a._v(" "),s("p",[a._v("ä½¿ç”¨æœ€æ–°ç¨³å®šç‰ˆæœ¬çš„ webpackã€nodeã€npm ç­‰ï¼Œè¾ƒæ–°çš„ç‰ˆæœ¬æ›´å¤Ÿå»ºç«‹æ›´é«˜æ•ˆçš„æ¨¡å—æ ‘ä»¥åŠæé«˜è§£æé€Ÿåº¦ã€‚")]),a._v(" "),s("h4",{attrs:{id:"loaders"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#loaders"}},[a._v("#")]),a._v(" loaders")]),a._v(" "),s("p",[a._v("ç”±äº loader å¯¹æ–‡ä»¶çš„è½¬æ¢æ“ä½œå¾ˆè€—æ—¶ï¼Œæ‰€ä»¥éœ€è¦è®©å°½å¯èƒ½å°‘çš„æ–‡ä»¶è¢« loader å¤„ç†ã€‚æˆ‘ä»¬å¯ä»¥é€šè¿‡ä»¥ä¸‹ 3 æ–¹é¢ä¼˜åŒ– loader é…ç½®ï¼š")]),a._v(" "),s("p",[a._v("ä¼˜åŒ–æ­£åˆ™åŒ¹é…")]),a._v(" "),s("p",[a._v("é€šè¿‡ cacheDirectory é€‰é¡¹å¼€å¯ç¼“å­˜")]),a._v(" "),s("p",[a._v("é€šè¿‡ includeã€exclude æ¥å‡å°‘è¢«å¤„ç†çš„æ–‡ä»¶")]),a._v(" "),s("div",{staticClass:"language-plain line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("// webpack.common.js\nmodule: {\n    rules: [\n        {\n            test:/\\.js$/,\n            //babel-loaderæ”¯æŒç¼“å­˜è½¬æ¢å‡ºçš„ç»“æœï¼Œé€šè¿‡cacheDirectoryé€‰é¡¹å¼€å¯\n            loader:'babel-loader?cacheDirectory',\n            //åªå¯¹é¡¹ç›®æ ¹ç›®å½•ä¸‹çš„src ç›®å½•ä¸­çš„æ–‡ä»¶é‡‡ç”¨ babel-loader\n            include: [path.resolve('src')],\n            //æ’é™¤ node_modules ç›®å½•ä¸‹çš„æ–‡ä»¶ï¼Œnode_modules ç›®å½•ä¸‹çš„æ–‡ä»¶éƒ½æ˜¯é‡‡ç”¨çš„ ES5 è¯­æ³•ï¼Œæ²¡å¿…è¦å†é€šè¿‡ Babel å»è½¬æ¢\n            exclude: path.resolve(__dirname, 'node_modules')\n        }\n    ]\n}\n\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br"),s("span",{staticClass:"line-number"},[a._v("2")]),s("br"),s("span",{staticClass:"line-number"},[a._v("3")]),s("br"),s("span",{staticClass:"line-number"},[a._v("4")]),s("br"),s("span",{staticClass:"line-number"},[a._v("5")]),s("br"),s("span",{staticClass:"line-number"},[a._v("6")]),s("br"),s("span",{staticClass:"line-number"},[a._v("7")]),s("br"),s("span",{staticClass:"line-number"},[a._v("8")]),s("br"),s("span",{staticClass:"line-number"},[a._v("9")]),s("br"),s("span",{staticClass:"line-number"},[a._v("10")]),s("br"),s("span",{staticClass:"line-number"},[a._v("11")]),s("br"),s("span",{staticClass:"line-number"},[a._v("12")]),s("br"),s("span",{staticClass:"line-number"},[a._v("13")]),s("br"),s("span",{staticClass:"line-number"},[a._v("14")]),s("br"),s("span",{staticClass:"line-number"},[a._v("15")]),s("br")])]),s("h4",{attrs:{id:"optimization-splitchunks-æå–å…¬å…±ä»£ç "}},[s("a",{staticClass:"header-anchor",attrs:{href:"#optimization-splitchunks-æå–å…¬å…±ä»£ç "}},[a._v("#")]),a._v(" optimization.splitChunks æå–å…¬å…±ä»£ç ")]),a._v(" "),s("p",[a._v("Webpack 4 ç§»é™¤äº† CommonsChunkPlugin å–è€Œä»£ä¹‹çš„æ˜¯ä¸¤ä¸ªæ–°çš„é…ç½®é¡¹ optimization.splitChunks å’Œ optimization.runtimeChunk æ¥ç®€åŒ–ä»£ç åˆ†å‰²çš„é…ç½®ã€‚")]),a._v(" "),s("p",[a._v('é€šè¿‡è®¾ç½® optimization.splitChunks.chunks: "all" æ¥å¯åŠ¨é»˜è®¤çš„ä»£ç åˆ†å‰²é…ç½®é¡¹ã€‚')]),a._v(" "),s("p",[a._v("å½“æ»¡è¶³å¦‚ä¸‹æ¡ä»¶æ—¶ï¼Œwebpack ä¼šè‡ªåŠ¨æ‰“åŒ… chunks:")]),a._v(" "),s("p",[a._v("â¡ï¸å½“å‰æ¨¡å—æ˜¯å…¬å…±æ¨¡å—ï¼ˆå¤šå¤„å¼•ç”¨ï¼‰æˆ–è€…æ¨¡å—æ¥è‡ª node_modules")]),a._v(" "),s("p",[a._v("â¡ï¸å½“å‰æ¨¡å—å¤§å°å¤§äº 30kb, å¦‚æœæ­¤æ¨¡å—æ˜¯æŒ‰éœ€åŠ è½½ï¼Œå¹¶è¡Œè¯·æ±‚çš„æœ€å¤§æ•°é‡å°äºç­‰äº 5")]),a._v(" "),s("p",[a._v("â¡ï¸å¦‚æœæ­¤æ¨¡å—åœ¨åˆå§‹é¡µé¢åŠ è½½ï¼Œå¹¶è¡Œè¯·æ±‚çš„æœ€å¤§æ•°é‡å°äºç­‰äº 3")]),a._v(" "),s("div",{staticClass:"language-plain line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("optimization: {\n    splitChunks: {\n        chunks: 'async', // all async initial æ˜¯å¦å¯¹å¼‚æ­¥ä»£ç è¿›è¡Œçš„ä»£ç åˆ†å‰²\n        minSize: 30000,  // å¼•å…¥æ¨¡å—å¤§äº30kbæ‰è¿›è¡Œä»£ç åˆ†å‰²\n        maxSize: 0, // å¼•å…¥æ¨¡å—å¤§äºXkbæ—¶ï¼Œå°è¯•å¯¹å¼•å…¥æ¨¡å—äºŒæ¬¡æ‹†åˆ†å¼•å…¥\n        minChunks: 1, // å¼•å…¥æ¨¡å—è‡³è¢«ä½¿ç”¨Xæ¬¡åæ‰è¿›è¡Œä»£ç åˆ†å‰²\n        maxAsyncRequests: 5, // \n        maxInitialRequests: 3,\n        automaticNameDelimiter: '~', // æ¨¡å—é—´çš„è¿æ¥ç¬¦ï¼Œé»˜è®¤ä¸º\"~\"\n        name: true,\n        cacheGroups: {\n            vendors: {\n                test: /[\\\\/]node_modules[\\\\/]/,\n                priority: -10  // ä¼˜å…ˆçº§ï¼Œè¶Šå°ä¼˜å…ˆçº§è¶Šé«˜\n            },\n            default: {  // é»˜è®¤è®¾ç½®ï¼Œå¯è¢«é‡å†™\n                minChunks: 2,\n                priority: -20,\n                reuseExistingChunk: true  // å¦‚æœæœ¬æ¥å·²ç»æŠŠä»£ç æå–å‡ºæ¥ï¼Œåˆ™é‡ç”¨å­˜åœ¨çš„è€Œä¸æ˜¯é‡æ–°äº§ç”Ÿ\n            }\n        }\n    }\n}\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br"),s("span",{staticClass:"line-number"},[a._v("2")]),s("br"),s("span",{staticClass:"line-number"},[a._v("3")]),s("br"),s("span",{staticClass:"line-number"},[a._v("4")]),s("br"),s("span",{staticClass:"line-number"},[a._v("5")]),s("br"),s("span",{staticClass:"line-number"},[a._v("6")]),s("br"),s("span",{staticClass:"line-number"},[a._v("7")]),s("br"),s("span",{staticClass:"line-number"},[a._v("8")]),s("br"),s("span",{staticClass:"line-number"},[a._v("9")]),s("br"),s("span",{staticClass:"line-number"},[a._v("10")]),s("br"),s("span",{staticClass:"line-number"},[a._v("11")]),s("br"),s("span",{staticClass:"line-number"},[a._v("12")]),s("br"),s("span",{staticClass:"line-number"},[a._v("13")]),s("br"),s("span",{staticClass:"line-number"},[a._v("14")]),s("br"),s("span",{staticClass:"line-number"},[a._v("15")]),s("br"),s("span",{staticClass:"line-number"},[a._v("16")]),s("br"),s("span",{staticClass:"line-number"},[a._v("17")]),s("br"),s("span",{staticClass:"line-number"},[a._v("18")]),s("br"),s("span",{staticClass:"line-number"},[a._v("19")]),s("br"),s("span",{staticClass:"line-number"},[a._v("20")]),s("br"),s("span",{staticClass:"line-number"},[a._v("21")]),s("br"),s("span",{staticClass:"line-number"},[a._v("22")]),s("br"),s("span",{staticClass:"line-number"},[a._v("23")]),s("br")])]),s("h4",{attrs:{id:"smaller-false"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#smaller-false"}},[a._v("#")]),a._v(" Smaller = false")]),a._v(" "),s("p",[a._v("å‡å°‘ç¼–è¯‘çš„æ•´ä½“å¤§å°ï¼Œä»¥æé«˜æ„å»ºæ€§èƒ½ã€‚å°½é‡ä¿æŒ chunks å°å·§ã€‚")]),a._v(" "),s("p",[a._v("â¡ï¸ä½¿ç”¨æ›´å°/æ›´å°‘çš„åº“")]),a._v(" "),s("p",[a._v("â¡ï¸ç§»é™¤ä¸éœ€è¦çš„ä»£ç ")]),a._v(" "),s("p",[a._v("â¡ï¸åªç¼–è¯‘ä½ åœ¨å¼€å‘çš„ä»£ç ")]),a._v(" "),s("h4",{attrs:{id:"worker-pool"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#worker-pool"}},[a._v("#")]),a._v(" Worker Pool")]),a._v(" "),s("p",[a._v("thread-loader å¯ä»¥å°†éå¸¸è€—æ€§èƒ½çš„ loaders è½¬å­˜åˆ° worker pool ä¸­ã€‚")]),a._v(" "),s("p",[a._v("ä¸è¦ä½¿ç”¨å¤ªå¤šçš„ workersï¼Œå› ä¸º Node.js çš„ runtime å’Œ loader æœ‰ä¸€å®šçš„å¯åŠ¨å¼€é”€ã€‚æœ€å°åŒ– workers å’Œä¸»è¿›ç¨‹é—´çš„æ¨¡å—ä¼ è¾“ã€‚è¿›ç¨‹é—´é€šè®¯(IPC)æ˜¯éå¸¸æ¶ˆè€—èµ„æºçš„ã€‚")]),a._v(" "),s("h4",{attrs:{id:"æŒä¹…åŒ–ç¼“å­˜"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#æŒä¹…åŒ–ç¼“å­˜"}},[a._v("#")]),a._v(" æŒä¹…åŒ–ç¼“å­˜")]),a._v(" "),s("p",[a._v("å¯¹äºä¸€äº›æ€§èƒ½å¼€é”€è¾ƒå¤§çš„ loader ä¹‹å‰å¯ä»¥æ·»åŠ  cache-loaderï¼Œå¯ç”¨æŒä¹…åŒ–ç¼“å­˜ã€‚")]),a._v(" "),s("p",[a._v("ä½¿ç”¨ package.json ä¸­çš„ postinstall æ¸…æ¥šç¼“å­˜ç›®å½•ã€‚")]),a._v(" "),s("h4",{attrs:{id:"dlls"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#dlls"}},[a._v("#")]),a._v(" Dlls")]),a._v(" "),s("p",[a._v("ä½¿ç”¨ DllPlugin å°†æ›´æ–°ä¸é¢‘ç¹çš„ä»£ç è¿›è¡Œå•ç‹¬ç¼–è¯‘ã€‚è¿™å°†æ”¹å–„å¼•ç”¨ç¨‹åºçš„ç¼–è¯‘é€Ÿåº¦ã€‚å³ä½¿å®ƒå¢åŠ äº†æ„å»ºè¿‡ç¨‹çš„å¤æ‚åº¦ã€‚")]),a._v(" "),s("p",[a._v("åˆ©ç”¨ DllPlugin å’Œ DllReferencePlugin é¢„ç¼–è¯‘èµ„æºæ¨¡å—ï¼Œ é€šè¿‡ DllPlugin æ¥å¯¹é‚£äº›æˆ‘ä»¬å¼•ç”¨ä½†æ˜¯ç»å¯¹ä¸ä¼šä¿®æ”¹çš„ npm åŒ…æ¥è¿›è¡Œé¢„ç¼–è¯‘ï¼Œå†é€šè¿‡ DllReferencePlugin å°†é¢„ç¼–è¯‘çš„æ¨¡å—åŠ è½½è¿›æ¥ã€‚")]),a._v(" "),s("h4",{attrs:{id:"è§£æ-resolve"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#è§£æ-resolve"}},[a._v("#")]),a._v(" è§£æ(resolve)")]),a._v(" "),s("p",[a._v("ä»¥ä¸‹å‡ æ­¥å¯ä»¥æé«˜è§£æé€Ÿåº¦ï¼š")]),a._v(" "),s("p",[a._v("â¡ï¸  å°½é‡å‡å°‘ resolve.modulesã€resolve.extensionsã€resolve.mainFilesã€resolve.desciriptionsFiles ä¸­ç±»ç›®çš„æ•°é‡ï¼Œå› ä¸ºå®ƒä»¬ä¼šå¢åŠ æ–‡ä»¶ç³»ç»Ÿçš„è°ƒç”¨æ¬¡æ•°ã€‚")]),a._v(" "),s("p",[a._v("â¡ï¸ å¦‚æœä½ ä¸ä½¿ç”¨ symlinksï¼Œå¯ä»¥è®¾ç½® resolve.symlinks: false")]),a._v(" "),s("p",[a._v("â¡ï¸ å¦‚æœä½ ä½¿ç”¨è‡ªå®šä¹‰è§£æ pluginsï¼Œå¹¶ä¸”æ²¡æœ‰æŒ‡å®š context ä¿¡æ¯ï¼Œå¯ä»¥è®¾ç½® resolve.cacheWithContext: false")]),a._v(" "),s("h3",{attrs:{id:"development"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#development"}},[a._v("#")]),a._v(" Development")]),a._v(" "),s("h4",{attrs:{id:"åœ¨å†…å­˜ä¸­ç¼–è¯‘"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#åœ¨å†…å­˜ä¸­ç¼–è¯‘"}},[a._v("#")]),a._v(" åœ¨å†…å­˜ä¸­ç¼–è¯‘")]),a._v(" "),s("p",[a._v("ä»¥ä¸‹å‡ ä¸ªå®ç”¨çš„å·¥å…·é€šè¿‡åœ¨å†…å­˜ä¸­è¿›è¡Œä»£ç çš„ç¼–è¯‘å’Œèµ„æºçš„æä¾›ï¼Œä½†å¹¶ä¸å†™å…¥ç£ç›˜æ¥æé«˜æ€§èƒ½ï¼š")]),a._v(" "),s("p",[a._v("webpack-dev-server")]),a._v(" "),s("p",[a._v("webpack-hot-middleware")]),a._v(" "),s("p",[a._v("webpack-dev-middleware")]),a._v(" "),s("h4",{attrs:{id:"devtool"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#devtool"}},[a._v("#")]),a._v(" Devtool")]),a._v(" "),s("p",[a._v("éœ€è¦æ³¨æ„åœ¨ä¸åŒçš„ devtool çš„è®¾ç½®ï¼Œä¼šå¯¼è‡´ä¸åŒçš„æ€§èƒ½å·®å¼‚ã€‚")]),a._v(" "),s("p",[a._v("â¡ï¸eval å…·æœ‰æœ€å¥½çš„æ€§èƒ½ï¼Œä½†ä¸èƒ½å¸®ä½ è½¬ä¹‰ä»£ç ")]),a._v(" "),s("p",[a._v("â¡ï¸å¦‚æœä½ èƒ½æ¥å—ç¨å¾®å·®ä¸€äº›çš„ mapping è´¨é‡ï¼Œä½ å¯ä»¥ä½¿ç”¨ cheap-source-map é€‰æ‹©æ¥æé«˜æ€§èƒ½")]),a._v(" "),s("p",[a._v("â¡ï¸ä½¿ç”¨ eval-source-map é…ç½®è¿›è¡Œå¢é‡ç¼–è¯‘")]),a._v(" "),s("p",[a._v("åœ¨å¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œcheap-module-eval-source-map æ˜¯æœ€å¥½çš„é€‰æ‹©ã€‚")]),a._v(" "),s("h4",{attrs:{id:"é¿å…åœ¨ç”Ÿäº§ç¯å¢ƒåœ¨æ‰ä¼šç”¨åˆ°çš„å·¥å…·"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#é¿å…åœ¨ç”Ÿäº§ç¯å¢ƒåœ¨æ‰ä¼šç”¨åˆ°çš„å·¥å…·"}},[a._v("#")]),a._v(" é¿å…åœ¨ç”Ÿäº§ç¯å¢ƒåœ¨æ‰ä¼šç”¨åˆ°çš„å·¥å…·")]),a._v(" "),s("p",[a._v("æŸäº›å®ç”¨å·¥å…·ï¼Œplugins å’Œ loaders éƒ½åªèƒ½åœ¨æ„å»ºç”Ÿäº§ç¯å¢ƒæ—¶æ‰ä½¿ç”¨ã€‚ä¾‹å¦‚ï¼Œåœ¨å¼€å‘æ—¶ä½¿ç”¨ UglifyJsPlugin æ¥å‹ç¼©å’Œä¿®æ”¹ä»£ç æ˜¯æ²¡æœ‰æ„ä¹‰çš„ã€‚ä»¥ä¸‹è¿™äº›å·¥å…·åœ¨å¼€å‘ä¸­é€šå¸¸è¢«æ’é™¤åœ¨å¤–ï¼š")]),a._v(" "),s("p",[a._v("UglifyJsPlugin")]),a._v(" "),s("p",[a._v("ExtractTextPlugin")]),a._v(" "),s("p",[a._v("[hash]/[chunkhash]")]),a._v(" "),s("p",[a._v("AggressiveSplittingPlugin")]),a._v(" "),s("p",[a._v("AggressiveMergingPlugin")]),a._v(" "),s("p",[a._v("ModuleConcatenationPlugin")]),a._v(" "),s("h4",{attrs:{id:"æœ€å°åŒ–å…¥å£-chunk"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#æœ€å°åŒ–å…¥å£-chunk"}},[a._v("#")]),a._v(" æœ€å°åŒ–å…¥å£ chunk")]),a._v(" "),s("p",[a._v("webpack åªä¼šåœ¨æ–‡ä»¶ç³»ç»Ÿä¸­ç”Ÿæˆå·²æ›´æ–°çš„ chunkã€‚åº”å½“åœ¨ç”Ÿæˆå…¥å£ chunk æ—¶ï¼Œå°½é‡å‡å°‘å…¥å£ chunk çš„ä½“ç§¯ï¼Œä»¥æé«˜æ€§èƒ½ã€‚")]),a._v(" "),s("h3",{attrs:{id:"production"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#production"}},[a._v("#")]),a._v(" Production")]),a._v(" "),s("p",[a._v("ä¸è¦ä¸ºäº†éå¸¸å°çš„æ€§èƒ½å¢ç›Šï¼Œç‰ºç‰²äº†ä½ åº”ç”¨ç¨‹åºçš„è´¨é‡ï¼ï¼è¯·æ³¨æ„ï¼Œåœ¨å¤§å¤šæ•°æƒ…å†µä¸‹ä¼˜åŒ–ä»£ç è´¨é‡ï¼Œæ¯”æ„å»ºæ€§èƒ½æ›´é‡è¦ã€‚")]),a._v(" "),s("h4",{attrs:{id:"å¤šä¸ªç¼–è¯‘æ—¶"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#å¤šä¸ªç¼–è¯‘æ—¶"}},[a._v("#")]),a._v(" å¤šä¸ªç¼–è¯‘æ—¶")]),a._v(" "),s("p",[a._v("å½“è¿›è¡Œå¤šä¸ªç¼–è¯‘æ—¶ï¼Œä»¥ä¸‹å·¥å…·å¯ä»¥å¸®åŠ©åˆ°ä½ ï¼š")]),a._v(" "),s("p",[a._v("parallel-webpack: å®ƒå…è®¸ç¼–è¯‘å·¥ä½œåœ¨ woker æ± ä¸­è¿›è¡Œã€‚\ncache-loader: ç¼“å­˜å¯ä»¥åœ¨å¤šä¸ªç¼–è¯‘ä¹‹é—´å…±äº«ã€‚")]),a._v(" "),s("h3",{attrs:{id:"å·¥å…·ç›¸å…³é—®é¢˜"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#å·¥å…·ç›¸å…³é—®é¢˜"}},[a._v("#")]),a._v(" å·¥å…·ç›¸å…³é—®é¢˜")]),a._v(" "),s("h4",{attrs:{id:"babel"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#babel"}},[a._v("#")]),a._v(" Babel")]),a._v(" "),s("p",[a._v("é¡¹ç›®ä¸­çš„ preset/plugins æ•°é‡æœ€å°åŒ–")]),a._v(" "),s("h4",{attrs:{id:"typescript"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#typescript"}},[a._v("#")]),a._v(" TypeScript")]),a._v(" "),s("p",[a._v("åœ¨å•ç‹¬çš„è¿›ç¨‹ä¸­ä½¿ç”¨ fork-ts-checker-webpack-plugin è¿›è¡Œç±»å‹æ£€æŸ¥\né…ç½® loaders æ—¶è·³è¿‡ç±»å‹æ£€æŸ¥")]),a._v(" "),s("p",[a._v("ä½¿ç”¨ ts-loader æ—¶ï¼Œè®¾ç½® happyPackMode: true ä»¥åŠ transpileOnly: true")]),a._v(" "),s("h3",{attrs:{id:"saas"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#saas"}},[a._v("#")]),a._v(" Saas")]),a._v(" "),s("p",[a._v("node-sass ä¸­æœ‰ä¸ªæ¥è‡ª Node.js çº¿ç¨‹æ± çš„é˜»å¡çº¿ç¨‹çš„ bugã€‚å½“ä½¿ç”¨ thread-loader æ—¶ï¼Œéœ€è¦è®¾ç½® workParallelJobs: 2")]),a._v(" "),s("h2",{attrs:{id:"å¦‚ä½•åˆ©ç”¨-webpack-æ¥ä¼˜åŒ–å‰ç«¯æ€§èƒ½ï¼Ÿï¼ˆæé«˜æ€§èƒ½å’Œä½“éªŒï¼‰"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#å¦‚ä½•åˆ©ç”¨-webpack-æ¥ä¼˜åŒ–å‰ç«¯æ€§èƒ½ï¼Ÿï¼ˆæé«˜æ€§èƒ½å’Œä½“éªŒï¼‰"}},[a._v("#")]),a._v(" å¦‚ä½•åˆ©ç”¨ Webpack æ¥ä¼˜åŒ–å‰ç«¯æ€§èƒ½ï¼Ÿï¼ˆæé«˜æ€§èƒ½å’Œä½“éªŒï¼‰")]),a._v(" "),s("p",[a._v("ç”¨ Webpack ä¼˜åŒ–å‰ç«¯æ€§èƒ½æ˜¯æŒ‡ä¼˜åŒ– Webpack è¾“å‡ºç»“æœï¼Œè®©æ‰“åŒ…çš„ç»“æœåœ¨æµè§ˆå™¨è¿è¡Œå¿«é€Ÿé«˜æ•ˆã€‚")]),a._v(" "),s("p",[a._v("å‹ç¼©ä»£ç ã€‚åˆ é™¤å¤šä½™çš„ä»£ç /æ³¨é‡Šï¼Œç®€åŒ–ä»£ç çš„å†™æ³•ç­‰ç­‰æ–¹å¼ã€‚å¯ä»¥åˆ©ç”¨ Webpack çš„ UglifyJsPlugin å’Œ ParallelUglifyPlugin æ¥å‹ç¼© JavaScript ä»£ç ã€‚åˆ©ç”¨ css-loader?minimize æ¥å‹ç¼© CSS")]),a._v(" "),s("p",[a._v("å‹ç¼©å›¾ç‰‡ã€‚åˆ©ç”¨ imagemin-webpack-plugin ç­‰å›¾ç‰‡èµ„æºå‹ç¼©æ’ä»¶ï¼Œå¯¹å¼•ç”¨çš„å›¾ç‰‡èµ„æºè¿›è¡Œå‹ç¼©å¤„ç†")]),a._v(" "),s("p",[a._v("åˆç†çš„å›¾ç‰‡èµ„æºå¼•ç”¨ã€‚ä½¿ç”¨ url-loader åŠ è½½è§£æå›¾ç‰‡èµ„æºæ—¶ï¼Œå¯ä»¥é€šè¿‡é…ç½® options limit å‚æ•°ï¼Œå°†è¾ƒå°çš„å›¾ç‰‡èµ„æºè½¬æ¢æˆ base64 æ ¼å¼ï¼Œå‡å°‘ http è¯·æ±‚")]),a._v(" "),s("p",[a._v("åˆ©ç”¨ CDN åŠ é€Ÿã€‚åœ¨æ„å»ºè¿‡ç¨‹ä¸­ï¼Œå°†å¼•ç”¨çš„é™æ€èµ„æºè·¯å¾„ä¿®æ”¹ä¸º CDN ä¸Šå¯¹åº”çš„è·¯å¾„ã€‚å¯ä»¥åˆ©ç”¨ Webpack å¯¹äº output å‚æ•°å’Œå„ä¸ª loader çš„ publicPath å‚æ•°æ¥ä¿®æ”¹èµ„æºè·¯å¾„")]),a._v(" "),s("p",[a._v("åˆ é™¤æ­»ä»£ç (Ttee Shaking)ã€‚å°†ä»£ç ä¸­æ²¡æœ‰å¼•ç”¨çš„ä»£ç ç‰‡æ®µåˆ é™¤æ‰ã€‚å¯ä»¥é€šè¿‡åœ¨å¯åŠ¨ Webpack æ—¶è¿½åŠ å‚æ•°--optimize-minimize æ¥å®ç°\næå–å…¬å…±ä»£ç ")]),a._v(" "),s("h2",{attrs:{id:"npm-æ‰“åŒ…æ—¶éœ€è¦æ³¨æ„å“ªäº›ï¼Ÿå¦‚ä½•åˆ©ç”¨-webpack-æ¥æ›´å¥½çš„æ„å»º"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#npm-æ‰“åŒ…æ—¶éœ€è¦æ³¨æ„å“ªäº›ï¼Ÿå¦‚ä½•åˆ©ç”¨-webpack-æ¥æ›´å¥½çš„æ„å»º"}},[a._v("#")]),a._v(" npm æ‰“åŒ…æ—¶éœ€è¦æ³¨æ„å“ªäº›ï¼Ÿå¦‚ä½•åˆ©ç”¨ Webpack æ¥æ›´å¥½çš„æ„å»º")]),a._v(" "),s("h3",{attrs:{id:"npm-æ¨¡å—éœ€è¦æ³¨æ„ä»¥ä¸‹é—®é¢˜"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#npm-æ¨¡å—éœ€è¦æ³¨æ„ä»¥ä¸‹é—®é¢˜"}},[a._v("#")]),a._v(" npm æ¨¡å—éœ€è¦æ³¨æ„ä»¥ä¸‹é—®é¢˜")]),a._v(" "),s("p",[a._v("è¦æ”¯æŒ CommonJS æ¨¡å—åŒ–è§„èŒƒï¼Œæ‰€ä»¥æ‰“åŒ…åçš„æœ€åç»“æœä¹Ÿè¦æ”¯æŒè¯¥è§„åˆ™")]),a._v(" "),s("p",[a._v("npm æ¨¡å—ä½¿ç”¨è€…çš„ç¯å¢ƒæ˜¯ä¸ç¡®å®šçš„ï¼Œå¾ˆæœ‰å¯èƒ½å¹¶ä¸æ”¯æŒ ES6ï¼Œæ‰€ä»¥æ‰“åŒ…çš„æœ€åç»“æœåº”è¯¥æ˜¯é‡‡ç”¨ ES5 ç¼–å†™çš„ã€‚å¹¶ä¸”å¦‚æœ ES5 æ˜¯ç»è¿‡è½¬æ¢çš„ï¼Œè¯·æœ€å¥½è¿åŒ SourceMap ä¸€åŒä¸Šä¼ ")]),a._v(" "),s("p",[a._v("npm åŒ…å¤§å°åº”è¯¥æ˜¯å°½é‡å°ï¼ˆæœ‰äº›ä»“åº“ä¼šé™åˆ¶åŒ…å¤§å°ï¼‰")]),a._v(" "),s("p",[a._v("å‘å¸ƒçš„æ¨¡å—ä¸èƒ½å°†ä¾èµ–çš„æ¨¡å—ä¹Ÿä¸€åŒæ‰“åŒ…ï¼Œåº”è¯¥è®©ç”¨æˆ·é€‰æ‹©æ€§çš„å»è‡ªè¡Œå®‰è£…ã€‚è¿™æ ·å¯ä»¥é¿å…æ¨¡å—åº”ç”¨è€…å†æ¬¡æ‰“åŒ…æ—¶å‡ºç°åº•å±‚æ¨¡å—è¢«é‡å¤æ‰“åŒ…çš„æƒ…å†µ")]),a._v(" "),s("p",[a._v("UI ç»„ä»¶ç±»çš„æ¨¡å—åº”è¯¥å°†ä¾èµ–çš„å…¶å®ƒèµ„æºæ–‡ä»¶ï¼Œä¾‹å¦‚.css æ–‡ä»¶ä¹Ÿéœ€è¦åŒ…å«åœ¨å‘å¸ƒçš„æ¨¡å—é‡Œ")]),a._v(" "),s("h2",{attrs:{id:"åŸºäºä»¥ä¸Šéœ€è¦æ³¨æ„çš„é—®é¢˜ï¼Œæˆ‘ä»¬å¯ä»¥å¯¹äº-webpack-é…ç½®åšä»¥ä¸‹æ‰©å±•å’Œä¼˜åŒ–"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#åŸºäºä»¥ä¸Šéœ€è¦æ³¨æ„çš„é—®é¢˜ï¼Œæˆ‘ä»¬å¯ä»¥å¯¹äº-webpack-é…ç½®åšä»¥ä¸‹æ‰©å±•å’Œä¼˜åŒ–"}},[a._v("#")]),a._v(" åŸºäºä»¥ä¸Šéœ€è¦æ³¨æ„çš„é—®é¢˜ï¼Œæˆ‘ä»¬å¯ä»¥å¯¹äº Webpack é…ç½®åšä»¥ä¸‹æ‰©å±•å’Œä¼˜åŒ–")]),a._v(" "),s("p",[a._v("CommonJS æ¨¡å—åŒ–è§„èŒƒçš„è§£å†³æ–¹æ¡ˆï¼š è®¾ç½® output.libraryTarget='commonjs2'ä½¿è¾“å‡ºçš„ä»£ç ç¬¦åˆ CommonJS2 æ¨¡å—åŒ–è§„èŒƒï¼Œä»¥ä¾›ç»™å…¶å®ƒæ¨¡å—å¯¼å…¥ä½¿ç”¨")]),a._v(" "),s("p",[a._v("è¾“å‡º ES5 ä»£ç çš„è§£å†³æ–¹æ¡ˆï¼šä½¿ç”¨ babel-loader æŠŠ ES6 ä»£ç è½¬æ¢æˆ ES5 çš„ä»£ç ã€‚å†é€šè¿‡å¼€å¯ devtool: 'cheap-module-eval-source-map'è¾“å‡º SourceMap ä»¥å‘å¸ƒè°ƒè¯•")]),a._v(" "),s("p",[a._v("npm åŒ…å¤§å°å°½é‡å°çš„è§£å†³æ–¹æ¡ˆï¼šBabel åœ¨æŠŠ ES6 ä»£ç è½¬æ¢æˆ ES5 ä»£ç æ—¶ä¼šæ³¨å…¥ä¸€äº›è¾…åŠ©å‡½æ•°ï¼Œæœ€ç»ˆå¯¼è‡´æ¯ä¸ªè¾“å‡ºçš„æ–‡ä»¶ä¸­éƒ½åŒ…å«è¿™æ®µè¾…åŠ©å‡½æ•°çš„ä»£ç ï¼Œé€ æˆäº†ä»£ç çš„å†—ä½™ã€‚è§£å†³æ–¹æ³•æ˜¯ä¿®æ”¹.babelrc æ–‡ä»¶ï¼Œä¸ºå…¶åŠ å…¥ transform-runtime æ’ä»¶")]),a._v(" "),s("p",[a._v("ä¸èƒ½å°†ä¾èµ–æ¨¡å—æ‰“åŒ…åˆ° npm æ¨¡å—ä¸­çš„è§£å†³æ–¹æ¡ˆï¼šä½¿ç”¨ externals é…ç½®é¡¹æ¥å‘Šè¯‰ Webpack å“ªäº›æ¨¡å—ä¸éœ€è¦æ‰“åŒ…")]),a._v(" "),s("p",[a._v("å¯¹äºä¾èµ–çš„èµ„æºæ–‡ä»¶æ‰“åŒ…çš„è§£å†³æ–¹æ¡ˆï¼šé€šè¿‡ css-loader å’Œ extract-text-webpack-plugin æ¥å®ç°ï¼Œé…ç½®å¦‚ä¸‹ï¼š")]),a._v(" "),s("div",{staticClass:"language-plain line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("const ExtractTextPlugin = require('extract-text-webpack-plugin');\nmodule.exports = {\n  module: {\n    rules: [\n      {\n        test: /\\.css$/,\n        use: ExtractTextPlugin.extract({ use: ['css-loader'] })  // æå–å‡ºchunkä¸­çš„cssåˆ°å•ç‹¬çš„æ–‡ä»¶ä¸­\n      }\n    ]  \n  },\n  plugins: [\n    new ExtractTextPlugin({ filename: 'index.css' })\n  ]\n}\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br"),s("span",{staticClass:"line-number"},[a._v("2")]),s("br"),s("span",{staticClass:"line-number"},[a._v("3")]),s("br"),s("span",{staticClass:"line-number"},[a._v("4")]),s("br"),s("span",{staticClass:"line-number"},[a._v("5")]),s("br"),s("span",{staticClass:"line-number"},[a._v("6")]),s("br"),s("span",{staticClass:"line-number"},[a._v("7")]),s("br"),s("span",{staticClass:"line-number"},[a._v("8")]),s("br"),s("span",{staticClass:"line-number"},[a._v("9")]),s("br"),s("span",{staticClass:"line-number"},[a._v("10")]),s("br"),s("span",{staticClass:"line-number"},[a._v("11")]),s("br"),s("span",{staticClass:"line-number"},[a._v("12")]),s("br"),s("span",{staticClass:"line-number"},[a._v("13")]),s("br"),s("span",{staticClass:"line-number"},[a._v("14")]),s("br")])])])}),[],!1,null,null,null);e.default=r.exports}}]);