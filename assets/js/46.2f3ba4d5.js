(window.webpackJsonp=window.webpackJsonp||[]).push([[46],{330:function(s,n,a){"use strict";a.r(n);var e=a(10),r=Object(e.a)({},(function(){var s=this,n=s._self._c;return n("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[n("h1",{attrs:{id:"webpack-ç³»åˆ—æ‰‹å†™æ¨¡å—æ‰“åŒ…ä»£ç "}},[n("a",{staticClass:"header-anchor",attrs:{href:"#webpack-ç³»åˆ—æ‰‹å†™æ¨¡å—æ‰“åŒ…ä»£ç "}},[s._v("#")]),s._v(" Webpack ç³»åˆ—æ‰‹å†™æ¨¡å—æ‰“åŒ…ä»£ç ")]),s._v(" "),n("h2",{attrs:{id:"loader"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#loader"}},[s._v("#")]),s._v(" loader")]),s._v(" "),n("p",[s._v("åœ¨æ‰‹å†™æ¨¡å—æ‰“åŒ…ä»£ç ä¹‹å‰ï¼Œå…ˆå­¦ä¸€å­¦å¦‚ä½•å†™ä¸€ä¸ª loader")]),s._v(" "),n("p",[s._v("Loader å°±åƒä¸€ä¸ªç¿»è¯‘å‘˜ï¼Œèƒ½å°†æºæ–‡ä»¶ç»è¿‡è½¬åŒ–åè¾“å‡ºæ–°çš„ç»“æœï¼Œå¹¶ä¸”ä¸€ä¸ªæ–‡ä»¶è¿˜å¯ä»¥\né“¾å¼ åœ°ç»è¿‡å¤šä¸ªç¿»è¯‘å‘˜ç¿»è¯‘ã€‚ ä»¥å¤„ç† scss æ–‡ä»¶ä¸ºä¾‹:")]),s._v(" "),n("p",[s._v("â€¢ å…ˆå°† scss æºä»£ç æäº¤ç»™ sass-loaderï¼Œå°† scss è½¬æ¢æˆ CSS;")]),s._v(" "),n("p",[s._v("â€¢ å°† sass-loader è¾“å‡ºçš„ css æäº¤ç»™ css-loader å¤„ç†ï¼Œæ‰¾å‡º css ä¸­ä¾èµ–çš„èµ„æºã€å‹ç¼©\ncss ç­‰ï¼›")]),s._v(" "),n("p",[s._v("â€¢ å°† css-loader è¾“å‡ºçš„ css æäº¤ç»™ style-loader å¤„ç†ï¼Œè½¬æ¢æˆé€šè¿‡è„šæœ¬åŠ è½½çš„ JavaScript ä»£ç ã€‚")]),s._v(" "),n("h3",{attrs:{id:"åˆ†æä¸€ä¸‹-markdown-loader"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#åˆ†æä¸€ä¸‹-markdown-loader"}},[s._v("#")]),s._v(" åˆ†æä¸€ä¸‹ markdown-loader")]),s._v(" "),n("p",[s._v("https://github.com/peerigon/markdown-loader/blob/master/index.js")]),s._v(" "),n("div",{staticClass:"language-plain line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-plain"}},[n("code",[s._v('"use strict";\n\n//åˆ†æmarkæºç å·¥å…·\nconst marked = require("marked");\n//webpackæä¾›çš„å·¥å…·é›† æ”¶é›†ç”¨æˆ·optionsç­‰ ä¹Ÿå°±æ˜¯webpack.**.jsé‡Œmodule.exportçš„é…ç½®ç­‰\nconst loaderUtils = require("loader-utils");\n\n//æä¾›ä¸€ä¸ªå¯¹å¤–çš„å‡½æ•°\nmodule.exports = function (markdown) {\n    // merge params and default config\n    const options = loaderUtils.getOptions(this);\n    // å½“å‰loaderå¼€å¯ç¼“å­˜\n    this.cacheable();\n    // ç”¨æˆ·option---\x3emark\n    marked.setOptions(options);\n    //string\n    return marked(markdown);\n};\n')])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br")])]),n("h3",{attrs:{id:"å®ç°ä¸€ä¸ª-loader"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#å®ç°ä¸€ä¸ª-loader"}},[s._v("#")]),s._v(" å®ç°ä¸€ä¸ª loader")]),s._v(" "),n("div",{staticClass:"language-plain line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-plain"}},[n("code",[s._v("const loaderUtils = require(\"loader-utils\");\n//this ä»£è¡¨å½“å‰loaderç±»\nmodule.exports = function(contant) {\n    // merge params and default config\n    \n    const options = loaderUtils.getOptions(this);\n    //æ‹¿åˆ°options\n    console.log('å‰ç½®çš„é’©å­å‡½æ•°' + this.data.value)\n    console.log('ğŸŒ¶ï¸é…ç½®æ–‡ä»¶' + options.data)\n    //ä¸ºäº†é¿å…ä½¿ç”¨æ­£åˆ™è¿‡äºå¤æ‚ ----\x3eastğŸŒ²\n    //content.replace('const','var')\n    //å…³ é—­è¯¥ Loader çš„ç¼“å­˜åŠŸèƒ½,é»˜è®¤ç¼“å­˜æ˜¯å¼€çš„\n    this.cacheable(false);\n    return contant + \"console.log(1111)\";\n};\n\n//æŒ‚è½½å‰ç½®çš„é’©å­\n\nmodule.exports.pitch = function(r, prerequest, data) {\n    data.value = \"åˆ˜å¸…ğŸ®\"\n}\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br")])]),n("div",{staticClass:"language-plain line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-plain"}},[n("code",[s._v("const path = require('path');\nmodule.exports = {\n    module: {\n        rules: [{\n            test: /\\.js$/,\n            exclude: /(node_modules|bower_components)/,\n            use: {\n                loader: path.resolve('./loader/index.js'),\n                options: {\n                    data: \"ğŸŒè‡ªå®šä¹‰é…ç½®é¡¹\"\n                }\n            }\n        }]\n    }\n}\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br")])]),n("h3",{attrs:{id:"è¡¥å……"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#è¡¥å……"}},[s._v("#")]),s._v(" è¡¥å……")]),s._v(" "),n("p",[s._v("Loader æœ‰åŒæ­¥å’Œå¼‚æ­¥ä¹‹åˆ†ï¼Œä¸Šé¢ä»‹ç»çš„ Loader éƒ½æ˜¯åŒæ­¥çš„ Loaderï¼Œå› ä¸ºå®ƒä»¬çš„è½¬æ¢æµ ç¨‹éƒ½æ˜¯åŒæ­¥ çš„ï¼Œè½¬æ¢å®Œæˆåå†è¿”å›ç»“æœã€‚ä½†åœ¨æŸäº›åœºæ™¯ä¸‹è½¬æ¢çš„æ­¥éª¤åªèƒ½æ˜¯å¼‚æ­¥å®Œæˆçš„ï¼Œä¾‹ å¦‚æˆ‘ä»¬éœ€è¦ é€šè¿‡ç½‘ç»œè¯·æ±‚æ‰èƒ½å¾—å‡ºç»“æœï¼Œå¦‚æœé‡‡ç”¨åŒæ­¥çš„æ–¹å¼ï¼Œåˆ™ç½‘ç»œè¯·æ±‚ä¼šé˜»å¡æ•´ä¸ªæ„å»ºï¼Œ å¯¼è‡´ æ„å»ºéå¸¸ç¼“æ…¢ã€‚\nå¦‚æœæ˜¯å¼‚æ­¥è½¬æ¢ï¼Œåˆ™æˆ‘ä»¬å¯ä»¥è¿™æ ·åš:")]),s._v(" "),n("div",{staticClass:"language-plain line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-plain"}},[n("code",[s._v("module . exports = function (source) {\n//å‘Šè¯‰ Webpack æœ¬æ¬¡è½¬æ¢æ˜¯å¼‚æ­¥ çš„ï¼Œ Loader ä¼šåœ¨ callback ä¸­å›è°ƒç»“æœ\nvar callback= this.async() ;\nsomeAsyncOperation(source, function(err, result , sourceMaps, ast) {\n//é€šè¿‡ callback è¿”å›å¼‚æ­¥æ‰§è¡Œåçš„ç»“æœ\ncallback (err, result, sourceMaps, ast); } ) \n}\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br")])]),n("p",[s._v("å¤„ç†äºŒè¿›åˆ¶æ•°æ®")]),s._v(" "),n("p",[s._v("åœ¨é»˜ è®¤æƒ…å†µä¸‹ï¼Œ Webpack ä¼ ç»™ Loader çš„åŸå†…å®¹éƒ½æ˜¯ UTF-8 æ ¼å¼ç¼–ç çš„å­—ç¬¦ä¸²ã€‚ä½†åœ¨æŸ äº›åœºæ™¯ä¸‹ Loader ä¸ä¼šå¤„ç†æ–‡æœ¬æ–‡ä»¶ï¼Œè€Œä¼šå¤„ç†äºŒè¿›åˆ¶æ–‡ä»¶å¦‚ file-loaderï¼Œè¿™æ—¶å°±éœ€è¦ Webpack ä¸º Loader ä¼ å…¥äºŒè¿›åˆ¶æ ¼å¼çš„æ•°æ®ã€‚ä¸ºæ­¤ï¼Œæˆ‘ä»¬éœ€è¦è¿™æ ·ç¼–å†™ Loader:")]),s._v(" "),n("div",{staticClass:"language-plain line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-plain"}},[n("code",[s._v("module. exports = function (source) {\n//åœ¨ exports.raw=== true æ—¶ï¼Œ \n//Webpack ä¼ ç»™ Loader çš„ source æ˜¯ Buffer ç±»å‹çš„ \n\nsource instanceof Buffer === true;\n//Loader è¿”å›çš„ç±»å‹ä¹Ÿå¯ä»¥æ˜¯ Buffer ç±»å‹çš„\n//åœ¨ exports .raw !== true æ—¶ï¼Œ Loader ä¹Ÿå¯ä»¥è¿”å› Buffer ç±»å‹çš„ç»“æœ\nreturn source;\n// é€šè¿‡ exports.raw å±æ€§å‘Šè¯‰ Webpack è¯¥ Loader æ˜¯å¦éœ€è¦äºŒè¿›åˆ¶æ•°æ® module .exports . raw = true;\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br")])]),n("h2",{attrs:{id:"webpack-æ‰“åŒ…åæ–‡ä»¶åˆ†æ"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#webpack-æ‰“åŒ…åæ–‡ä»¶åˆ†æ"}},[s._v("#")]),s._v(" Webpack æ‰“åŒ…åæ–‡ä»¶åˆ†æ")]),s._v(" "),n("p",[s._v("ä¸ºäº†æ›´å¥½çš„ç†è§£ webpack æ¨¡å—æ‰“åŒ…æœºåˆ¶ï¼Œæˆ‘ä»¬å…ˆæ¥çœ‹ä¸€ä¸‹ webpack æ‰“åŒ…åçš„æ–‡ä»¶ã€‚")]),s._v(" "),n("p",[s._v("å¯¹åˆšæ‰æ‰“åŒ…åçš„æ–‡ä»¶åˆ†æ")]),s._v(" "),n("div",{staticClass:"language-plain line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-plain"}},[n("code",[s._v('\n(function(modules) { // webpackBootstrap\n    // The module cache\n    //æ¨¡å—çš„ç¼“å­˜\n    var installedModules = {};\n\n    // The require function\n\n    function __webpack_require__(moduleId) {\n\n        // Check if module is in cache\n        //æ£€æŸ¥å­˜æ¨¡å—ï¼Œæ˜¯å¦ä»¥ç¼“å­˜ä½æ¨¡å—\n        if (installedModules[moduleId]) {\n\n            return installedModules[moduleId].exports;\n\n        }\n        // Create a new module (and put it into the cache)\n        //åˆ›å»ºæ–°çš„ç¼“å­˜å¯¹è±¡\n        var module = installedModules[moduleId] = {\n\n            i: moduleId,\n\n            l: false,\n\n            exports: {}\n\n        };\n\n        // Execute the module function\n        //æ‰§è¡Œå…¥å£å‡½æ•°\n        modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n        // Flag the module as loaded\n\n        // Return the exports of the module\n\n        return module.exports;\n\n    }\n    // Load entry module and return exports\n    //åŠ è½½å…¥å£\n    return __webpack_require__(__webpack_require__.s = "./src/index.js");\n\n})\n({\n\n    "./src/index.js": (function(module, exports) {\n\n        console.log("æˆ‘æ˜¯å…¥å£æ–‡ä»¶");\n        console.log(1111)\n    })\n\n\n});\n\n')])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br"),n("span",{staticClass:"line-number"},[s._v("23")]),n("br"),n("span",{staticClass:"line-number"},[s._v("24")]),n("br"),n("span",{staticClass:"line-number"},[s._v("25")]),n("br"),n("span",{staticClass:"line-number"},[s._v("26")]),n("br"),n("span",{staticClass:"line-number"},[s._v("27")]),n("br"),n("span",{staticClass:"line-number"},[s._v("28")]),n("br"),n("span",{staticClass:"line-number"},[s._v("29")]),n("br"),n("span",{staticClass:"line-number"},[s._v("30")]),n("br"),n("span",{staticClass:"line-number"},[s._v("31")]),n("br"),n("span",{staticClass:"line-number"},[s._v("32")]),n("br"),n("span",{staticClass:"line-number"},[s._v("33")]),n("br"),n("span",{staticClass:"line-number"},[s._v("34")]),n("br"),n("span",{staticClass:"line-number"},[s._v("35")]),n("br"),n("span",{staticClass:"line-number"},[s._v("36")]),n("br"),n("span",{staticClass:"line-number"},[s._v("37")]),n("br"),n("span",{staticClass:"line-number"},[s._v("38")]),n("br"),n("span",{staticClass:"line-number"},[s._v("39")]),n("br"),n("span",{staticClass:"line-number"},[s._v("40")]),n("br"),n("span",{staticClass:"line-number"},[s._v("41")]),n("br"),n("span",{staticClass:"line-number"},[s._v("42")]),n("br"),n("span",{staticClass:"line-number"},[s._v("43")]),n("br"),n("span",{staticClass:"line-number"},[s._v("44")]),n("br"),n("span",{staticClass:"line-number"},[s._v("45")]),n("br"),n("span",{staticClass:"line-number"},[s._v("46")]),n("br"),n("span",{staticClass:"line-number"},[s._v("47")]),n("br"),n("span",{staticClass:"line-number"},[s._v("48")]),n("br"),n("span",{staticClass:"line-number"},[s._v("49")]),n("br"),n("span",{staticClass:"line-number"},[s._v("50")]),n("br"),n("span",{staticClass:"line-number"},[s._v("51")]),n("br"),n("span",{staticClass:"line-number"},[s._v("52")]),n("br"),n("span",{staticClass:"line-number"},[s._v("53")]),n("br"),n("span",{staticClass:"line-number"},[s._v("54")]),n("br"),n("span",{staticClass:"line-number"},[s._v("55")]),n("br"),n("span",{staticClass:"line-number"},[s._v("56")]),n("br")])]),n("p",[s._v("ä¸Šè¿°ä»£ç ä¸»è¦ç”±ä»¥ä¸‹å‡ ä¸ªéƒ¨åˆ†ç»„æˆï¼š")]),s._v(" "),n("p",[s._v("æœ€å¤–å±‚æ˜¯ä¸€ä¸ªè‡ªæ‰§è¡Œå‡½æ•°")]),s._v(" "),n("p",[s._v("è‡ªæ‰§è¡Œå‡½æ•°ä¼šä¼ é€’ä¸€ä¸ª modules å‚æ•°ï¼Œè¿™ä¸ªå‚æ•°æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œ{key: æ–‡ä»¶è·¯å¾„,value: å‡½æ•°}ï¼Œvalue ä¸­çš„å‡½æ•°å†…éƒ¨æ˜¯æ‰“åŒ…å‰æ¨¡å—çš„ js ä»£ç ã€‚")]),s._v(" "),n("p",[s._v("å†…éƒ¨è‡ªå®šä¹‰ä¸€ä¸ª "),n("strong",[s._v("webpack_require")]),s._v(" æ‰§è¡Œå™¨ï¼Œç”¨æ¥æ‰§è¡Œå¯¼å…¥çš„æ–‡ä»¶ï¼Œå¹¶å¯¼å‡º exportsã€‚")]),s._v(" "),n("p",[s._v("å®ç°äº† common.js è§„èŒƒï¼Œä¸å‘ç½‘ç»œè¯·æ±‚ï¼ŒæŠŠåŒ…æ‰“åŒ…åˆ°äº†è‡ªå·±èº«ä¸Š\neval ç¼–è¯‘å¿«æ‰§è¡Œå¿«")]),s._v(" "),n("p",[s._v("æ–°å»º src/async1.js")]),s._v(" "),n("div",{staticClass:"language-plain line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-plain"}},[n("code",[s._v("\n//async1.js\nconst async1 = 'webpackæºç åˆ†æasync1';\nexport default async1;\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br")])]),n("p",[s._v("//æŠ½ç¦»å‡ºçš„ main.js")]),s._v(" "),n("div",{staticClass:"language-plain line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-plain"}},[n("code",[s._v('  (function(modules) {\n\n      var installedModules = {};\n\n      function __webpack_require__(moduleId) {\n\n          if (installedModules[moduleId]) {\n              return installedModules[moduleId].exports;\n          }\n          var module = installedModules[moduleId] = {\n              exports: {}\n          };\n          modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\n          return module.exports;\n      }\n\n      return __webpack_require__("./src/index.js");\n  })\n  ({\n\n      "./src/async1.js":\n\n          (function(module, __webpack_exports__, __webpack_require__) {\n          const async = `hello nihao`;\n          __webpack_exports__["default"] = (async)\n\n      }),\n\n      "./src/index.js":\n\n          (function(module, __webpack_exports__, __webpack_require__) {\n          var _async1__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("./src/async1.js");\n          //import å°±ç›¸å½“äº var async1 = __webpack_require__("./src/async1.js");\n          console.log(_async1__WEBPACK_IMPORTED_MODULE_0__["default"])\n\n      })\n\n  });\n')])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br"),n("span",{staticClass:"line-number"},[s._v("23")]),n("br"),n("span",{staticClass:"line-number"},[s._v("24")]),n("br"),n("span",{staticClass:"line-number"},[s._v("25")]),n("br"),n("span",{staticClass:"line-number"},[s._v("26")]),n("br"),n("span",{staticClass:"line-number"},[s._v("27")]),n("br"),n("span",{staticClass:"line-number"},[s._v("28")]),n("br"),n("span",{staticClass:"line-number"},[s._v("29")]),n("br"),n("span",{staticClass:"line-number"},[s._v("30")]),n("br"),n("span",{staticClass:"line-number"},[s._v("31")]),n("br"),n("span",{staticClass:"line-number"},[s._v("32")]),n("br"),n("span",{staticClass:"line-number"},[s._v("33")]),n("br"),n("span",{staticClass:"line-number"},[s._v("34")]),n("br"),n("span",{staticClass:"line-number"},[s._v("35")]),n("br"),n("span",{staticClass:"line-number"},[s._v("36")]),n("br"),n("span",{staticClass:"line-number"},[s._v("37")]),n("br"),n("span",{staticClass:"line-number"},[s._v("38")]),n("br"),n("span",{staticClass:"line-number"},[s._v("39")]),n("br"),n("span",{staticClass:"line-number"},[s._v("40")]),n("br")])]),n("h2",{attrs:{id:"æ‰‹å†™ä¸€ä¸ªæ¨¡å—æ‰“åŒ…å™¨"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#æ‰‹å†™ä¸€ä¸ªæ¨¡å—æ‰“åŒ…å™¨"}},[s._v("#")]),s._v(" æ‰‹å†™ä¸€ä¸ªæ¨¡å—æ‰“åŒ…å™¨")]),s._v(" "),n("h3",{attrs:{id:"æ•´ä½“æµç¨‹åˆ†æ"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#æ•´ä½“æµç¨‹åˆ†æ"}},[s._v("#")]),s._v(" æ•´ä½“æµç¨‹åˆ†æ")]),s._v(" "),n("p",[s._v("1.è¯»å–å…¥å£æ–‡ä»¶")]),s._v(" "),n("p",[s._v("2.å°†å†…å®¹è½¬æ¢ä¸º ast æ ‘")]),s._v(" "),n("p",[s._v("3.æ·±åº¦éå†è¯­æ³•æ ‘ï¼Œæ‰¾åˆ°æ‰€æœ‰çš„ä¾èµ–ï¼Œå¹¶åŠ å…¥åˆ°ä¸€ä¸ªæ•°ç»„ä¸­ã€‚")]),s._v(" "),n("p",[s._v("4.å°† ast æ ‘è½¬æ¢ä¸ºå¯æ‰§è¡Œ js çš„ä»£ç ")]),s._v(" "),n("p",[s._v("5 ç¼–å†™__webpack_require__å‡½æ•°ï¼Œæ ¹æ®å…¥å£æ–‡ä»¶è‡ªåŠ¨æ‰§è¡Œå®Œæ‰€æœ‰çš„ä¾èµ–ã€‚")]),s._v(" "),n("p",[s._v("æ ¹æ®ä¸Šè¿°æ­¥éª¤å¼€å§‹å†™ä»£ç ğŸ˜Š")]),s._v(" "),n("p",[s._v("ä»£ç å±‚åˆ†ä¸ºå››å±‚")]),s._v(" "),n("p",[s._v("ä¸€å±‚è¯»å–å…¥å£æ–‡ä»¶ï¼Œå°†å†…å®¹è½¬åŒ–ä¸º astï¼ˆæŠ½è±¡è¯­æ³•æ ‘ï¼‰æ ‘ï¼Œéå†è¯­æ³•æ ‘å¹¶å°† import xxx from './xxx.js' è½¬åŒ–ä¸º var xxx = "),n("strong",[s._v("webpack_require")]),s._v('("xxx"); å°† export default xxx è½¬åŒ–ä¸º '),n("strong",[s._v("webpack_exports")]),s._v('["default"] = xxx')]),s._v(" "),n("div",{staticClass:"language-plain line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-plain"}},[n("code",[s._v("function parse(filename) {\n    const contant = fs.readFileSync(filename, 'utf-8');\n    //å°†å­—ç¬¦ä¸²è½¬æ¢ä¸ºastæŠ½è±¡è¯­æ³•æ ‘\n    const ast = parser.parse(contant, {\n            sourceType: 'module'\n        })\n        // console.log(ast)\n    const code = new MagicString(contant);\n    //éå†æŠ½è±¡è¯­æ³•æ ‘\n    traverse(ast, {\n        ExportDeclaration({\n            node\n        }) {\n            const {\n                start,\n                end,\n                declaration,\n            } = node;\n            code.overwrite(start, end,\n                `__webpack_exports__[\"default\"]=${declaration.name}`\n            )\n        },\n        ImportDeclaration({\n            node\n        }) {\n            // console.log('ğŸŒŸğŸŒŸ', node)\n            const {\n                start,\n                end,\n                specifiers,\n                source\n            } = node;\n            const newFile = \"./src/\" + path.join(source.value) + '.js';\n            code.overwrite(start, end,\n                `var ${specifiers[0].local.name}=__webpack_require__(\"${newFile}\").default`\n            )\n        }\n    })\n    const _code = code.toString()\n}\n\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br"),n("span",{staticClass:"line-number"},[s._v("23")]),n("br"),n("span",{staticClass:"line-number"},[s._v("24")]),n("br"),n("span",{staticClass:"line-number"},[s._v("25")]),n("br"),n("span",{staticClass:"line-number"},[s._v("26")]),n("br"),n("span",{staticClass:"line-number"},[s._v("27")]),n("br"),n("span",{staticClass:"line-number"},[s._v("28")]),n("br"),n("span",{staticClass:"line-number"},[s._v("29")]),n("br"),n("span",{staticClass:"line-number"},[s._v("30")]),n("br"),n("span",{staticClass:"line-number"},[s._v("31")]),n("br"),n("span",{staticClass:"line-number"},[s._v("32")]),n("br"),n("span",{staticClass:"line-number"},[s._v("33")]),n("br"),n("span",{staticClass:"line-number"},[s._v("34")]),n("br"),n("span",{staticClass:"line-number"},[s._v("35")]),n("br"),n("span",{staticClass:"line-number"},[s._v("36")]),n("br"),n("span",{staticClass:"line-number"},[s._v("37")]),n("br"),n("span",{staticClass:"line-number"},[s._v("38")]),n("br"),n("span",{staticClass:"line-number"},[s._v("39")]),n("br"),n("span",{staticClass:"line-number"},[s._v("40")]),n("br"),n("span",{staticClass:"line-number"},[s._v("41")]),n("br")])]),n("p",[s._v("äºŒå±‚ æ·±åº¦éå†è¯­æ³•æ ‘ï¼Œæ‰¾åˆ°æ‰€æœ‰ä¾èµ–å¹¶æ”¾å…¥æ•°ç»„ä¸­ï¼Œç”Ÿæˆæ‰€æœ‰èµ„æºå¯¹è±¡æ•°ç»„ã€‚")]),s._v(" "),n("div",{staticClass:"language-plain line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-plain"}},[n("code",[s._v("    //  å…¨å±€çš„ä¾èµ–é¡¹\nconst dependencies = [];\n\nfunction parse(filename) {\n    const contant = fs.readFileSync(filename, 'utf-8');\n    //è·å–å½“å‰çš„ä¾èµ–\n    const garphArray = [];\n    //å°†å­—ç¬¦ä¸²è½¬æ¢ä¸ºastæŠ½è±¡è¯­æ³•æ ‘\n    const ast = parser.parse(contant, {\n            sourceType: 'module'\n        })\n        // console.log(ast)\n    const code = new MagicString(contant);\n    //éå†æŠ½è±¡è¯­æ³•æ ‘\n    traverse(ast, {\n        ExportDeclaration({\n            node\n        }) {\n            const {\n                start,\n                end,\n                declaration,\n            } = node;\n            code.overwrite(start, end,\n                `__webpack_exports__[\"default\"]=${declaration.name}`\n            )\n        },\n        ImportDeclaration({\n            node\n        }) {\n            // console.log('ğŸŒŸğŸŒŸ', node)\n            const {\n                start,\n                end,\n                specifiers,\n                source\n            } = node;\n            const newFile = \"./src/\" + path.join(source.value) + '.js';\n            code.overwrite(start, end,\n                `var ${specifiers[0].local.name}=__webpack_require__(\"${newFile}\").default`\n            )\n            garphArray.push(newFile);\n        }\n    })\n    const _code = code.toString()\n    dependencies.push({\n        filename,\n        _code\n    });\n    return garphArray;\n}\nlet garphArray = parse(entryPonint);\n//å¯¹å…¶è¿›è¡Œé€’å½’\nfor (let item of garphArray) {\n    parse(item)\n}\nconsole.log(dependencies)\n\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br"),n("span",{staticClass:"line-number"},[s._v("23")]),n("br"),n("span",{staticClass:"line-number"},[s._v("24")]),n("br"),n("span",{staticClass:"line-number"},[s._v("25")]),n("br"),n("span",{staticClass:"line-number"},[s._v("26")]),n("br"),n("span",{staticClass:"line-number"},[s._v("27")]),n("br"),n("span",{staticClass:"line-number"},[s._v("28")]),n("br"),n("span",{staticClass:"line-number"},[s._v("29")]),n("br"),n("span",{staticClass:"line-number"},[s._v("30")]),n("br"),n("span",{staticClass:"line-number"},[s._v("31")]),n("br"),n("span",{staticClass:"line-number"},[s._v("32")]),n("br"),n("span",{staticClass:"line-number"},[s._v("33")]),n("br"),n("span",{staticClass:"line-number"},[s._v("34")]),n("br"),n("span",{staticClass:"line-number"},[s._v("35")]),n("br"),n("span",{staticClass:"line-number"},[s._v("36")]),n("br"),n("span",{staticClass:"line-number"},[s._v("37")]),n("br"),n("span",{staticClass:"line-number"},[s._v("38")]),n("br"),n("span",{staticClass:"line-number"},[s._v("39")]),n("br"),n("span",{staticClass:"line-number"},[s._v("40")]),n("br"),n("span",{staticClass:"line-number"},[s._v("41")]),n("br"),n("span",{staticClass:"line-number"},[s._v("42")]),n("br"),n("span",{staticClass:"line-number"},[s._v("43")]),n("br"),n("span",{staticClass:"line-number"},[s._v("44")]),n("br"),n("span",{staticClass:"line-number"},[s._v("45")]),n("br"),n("span",{staticClass:"line-number"},[s._v("46")]),n("br"),n("span",{staticClass:"line-number"},[s._v("47")]),n("br"),n("span",{staticClass:"line-number"},[s._v("48")]),n("br"),n("span",{staticClass:"line-number"},[s._v("49")]),n("br"),n("span",{staticClass:"line-number"},[s._v("50")]),n("br"),n("span",{staticClass:"line-number"},[s._v("51")]),n("br"),n("span",{staticClass:"line-number"},[s._v("52")]),n("br"),n("span",{staticClass:"line-number"},[s._v("53")]),n("br"),n("span",{staticClass:"line-number"},[s._v("54")]),n("br"),n("span",{staticClass:"line-number"},[s._v("55")]),n("br"),n("span",{staticClass:"line-number"},[s._v("56")]),n("br"),n("span",{staticClass:"line-number"},[s._v("57")]),n("br"),n("span",{staticClass:"line-number"},[s._v("58")]),n("br")])]),n("p",[s._v("ä¸‰å±‚ å°è£…è‡ªæ‰§è¡Œå‡½æ•°ï¼Œåˆ›å»º "),n("strong",[s._v("webpack_require")]),s._v(" æ–¹æ³•ï¼Œå¤„ç†æ–‡ä»¶ç›¸äº’ä¾èµ–ï¼Œè¯¥å¤„å¼•å…¥ ejs å¯¹æ¨¡ç‰ˆå¤„ç†")]),s._v(" "),n("div",{staticClass:"language-plain line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-plain"}},[n("code",[s._v('const template = `\n  (function (modules) {\n\n      var installedModules = {};\n\n      function __webpack_require__(moduleId) {\n          if (installedModules[moduleId]) {\n              return installedModules[moduleId].exports;\n          }\n          var module = installedModules[moduleId] = {\n              exports: {}\n          };\n          modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n          return module.exports;\n      }\n      return __webpack_require__("${entryPonint}");\n  })\n  ({\n\n    <% for(var i = 0; i < dependencies.length; i++){ %>\n        "<%-dependencies[i]["filename"]%>":\n        (function (module, __webpack_exports__, __webpack_require__) {\n               <%-dependencies[i]["_code"]%>\n            }),\n    <% } %>\n  });\n`;\n\nlet result = ejs.render(template, {\n    dependencies\n})\n')])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br"),n("span",{staticClass:"line-number"},[s._v("23")]),n("br"),n("span",{staticClass:"line-number"},[s._v("24")]),n("br"),n("span",{staticClass:"line-number"},[s._v("25")]),n("br"),n("span",{staticClass:"line-number"},[s._v("26")]),n("br"),n("span",{staticClass:"line-number"},[s._v("27")]),n("br"),n("span",{staticClass:"line-number"},[s._v("28")]),n("br"),n("span",{staticClass:"line-number"},[s._v("29")]),n("br"),n("span",{staticClass:"line-number"},[s._v("30")]),n("br"),n("span",{staticClass:"line-number"},[s._v("31")]),n("br"),n("span",{staticClass:"line-number"},[s._v("32")]),n("br")])]),n("p",[s._v("å››å±‚ å°†å…¶ result æ¨¡ç‰ˆ å†™å‡º")]),s._v(" "),n("div",{staticClass:"language-plain line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-plain"}},[n("code",[s._v('fs.writeFileSync("./dist/main.js", result)\n')])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("h3",{attrs:{id:"ç›¸å…³é“¾æ¥"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#ç›¸å…³é“¾æ¥"}},[s._v("#")]),s._v(" ç›¸å…³é“¾æ¥")]),s._v(" "),n("p",[n("a",{attrs:{href:"https://github.com/wendaoshuai66/diy-webpack",target:"_blank",rel:"noopener noreferrer"}},[s._v("git ä»“åº“"),n("OutboundLink")],1)])])}),[],!1,null,null,null);n.default=r.exports}}]);