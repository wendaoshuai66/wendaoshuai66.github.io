<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Webpack ç³»åˆ—æ‰‹å†™æ¨¡å—æ‰“åŒ…ä»£ç  | å‰ç«¯æ—¥å¿—</title>
    <meta name="description" content="æ¬¢è¿è®¿é—®æˆ‘çš„å‰ç«¯æ—¥å¿—">
    <meta name="generator" content="VuePress 1.3.0">
    <link rel="icon" href="/hero.jpg">
    
    <link rel="preload" href="/assets/css/0.styles.f48a6bab.css" as="style"><link rel="preload" href="/assets/js/app.7db32d51.js" as="script"><link rel="preload" href="/assets/js/2.1f0a0a54.js" as="script"><link rel="preload" href="/assets/js/29.5992374f.js" as="script"><link rel="prefetch" href="/assets/js/10.8bcbf328.js"><link rel="prefetch" href="/assets/js/11.98cbf51b.js"><link rel="prefetch" href="/assets/js/12.6f2040f7.js"><link rel="prefetch" href="/assets/js/13.cfc0ecb9.js"><link rel="prefetch" href="/assets/js/14.78a613d7.js"><link rel="prefetch" href="/assets/js/15.ce8a7d53.js"><link rel="prefetch" href="/assets/js/16.856a74ca.js"><link rel="prefetch" href="/assets/js/17.64e3fa34.js"><link rel="prefetch" href="/assets/js/18.3e7ddfff.js"><link rel="prefetch" href="/assets/js/19.2dee6f08.js"><link rel="prefetch" href="/assets/js/20.1d99c2cc.js"><link rel="prefetch" href="/assets/js/21.067f638b.js"><link rel="prefetch" href="/assets/js/22.e2b7fa3a.js"><link rel="prefetch" href="/assets/js/23.26b7cc38.js"><link rel="prefetch" href="/assets/js/24.d180d5c5.js"><link rel="prefetch" href="/assets/js/25.3694e56c.js"><link rel="prefetch" href="/assets/js/26.4adf545a.js"><link rel="prefetch" href="/assets/js/27.5360046e.js"><link rel="prefetch" href="/assets/js/28.fc75bc52.js"><link rel="prefetch" href="/assets/js/3.4da69777.js"><link rel="prefetch" href="/assets/js/30.88906c2f.js"><link rel="prefetch" href="/assets/js/31.7b9217a6.js"><link rel="prefetch" href="/assets/js/32.bf017485.js"><link rel="prefetch" href="/assets/js/33.f4d745c7.js"><link rel="prefetch" href="/assets/js/34.8458c3b8.js"><link rel="prefetch" href="/assets/js/35.db879782.js"><link rel="prefetch" href="/assets/js/36.0f635906.js"><link rel="prefetch" href="/assets/js/37.7d8dcb7a.js"><link rel="prefetch" href="/assets/js/38.6ff78b15.js"><link rel="prefetch" href="/assets/js/39.e8711a2c.js"><link rel="prefetch" href="/assets/js/4.4379ec61.js"><link rel="prefetch" href="/assets/js/40.182f2dcf.js"><link rel="prefetch" href="/assets/js/41.0ce7c377.js"><link rel="prefetch" href="/assets/js/42.0208ef5f.js"><link rel="prefetch" href="/assets/js/43.beceba14.js"><link rel="prefetch" href="/assets/js/44.6779228d.js"><link rel="prefetch" href="/assets/js/45.20b1abd2.js"><link rel="prefetch" href="/assets/js/46.ddc68fa1.js"><link rel="prefetch" href="/assets/js/47.b7479d5c.js"><link rel="prefetch" href="/assets/js/48.46413833.js"><link rel="prefetch" href="/assets/js/49.b9a3878a.js"><link rel="prefetch" href="/assets/js/5.c37a0a9f.js"><link rel="prefetch" href="/assets/js/50.6f312b15.js"><link rel="prefetch" href="/assets/js/51.3e8a26ff.js"><link rel="prefetch" href="/assets/js/52.32fe43d9.js"><link rel="prefetch" href="/assets/js/53.60b5f0aa.js"><link rel="prefetch" href="/assets/js/54.a04de6c7.js"><link rel="prefetch" href="/assets/js/55.41724eea.js"><link rel="prefetch" href="/assets/js/56.255fb40a.js"><link rel="prefetch" href="/assets/js/57.f8c15ae2.js"><link rel="prefetch" href="/assets/js/58.501812a4.js"><link rel="prefetch" href="/assets/js/59.b288577c.js"><link rel="prefetch" href="/assets/js/6.bce38e64.js"><link rel="prefetch" href="/assets/js/7.aa4106f1.js"><link rel="prefetch" href="/assets/js/8.30b1c27a.js"><link rel="prefetch" href="/assets/js/9.9129683e.js">
    <link rel="stylesheet" href="/assets/css/0.styles.f48a6bab.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">å‰ç«¯æ—¥å¿—</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/blog/" class="nav-link router-link-active">
  åšå®¢
</a></div> <a href="https://github.com/wendaoshuai66/blogs" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/blog/" class="nav-link router-link-active">
  åšå®¢
</a></div> <a href="https://github.com/wendaoshuai66/blogs" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>å‰ç«¯åŸºç¡€</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/blog/unknowHtml1.html" class="sidebar-link">ä½ ä¸çŸ¥é“çš„ HTML</a></li><li><a href="/blog/cssnote.html" class="sidebar-link">CSS ç®€ä»‹åŠå®ç”¨æŠ€å·§</a></li><li><a href="/blog/3d.html" class="sidebar-link">CSS3 æ„é€  3D ä¸–ç•Œ</a></li><li><a href="/blog/jsFunctionalProgramming_bottom.html" class="sidebar-link">JavaScript å‡½æ•°å¼ç¼–ç¨‹--ä¸‹</a></li><li><a href="/blog/jsFunctionalProgramming.html" class="sidebar-link">JavaScript å‡½æ•°å¼ç¼–ç¨‹--ä¸Š</a></li><li><a href="/blog/å‰ç«¯ä¸­ç»å¸¸å‡ºç°çš„é”™è¯¯åŠæ•è·.html" class="sidebar-link">å‰ç«¯ä¸­ç»å¸¸å‡ºç°çš„é”™è¯¯åŠæ•è·</a></li><li><a href="/blog/æ·±æ‹·è´.html" class="sidebar-link">å¯¹æ·±æ‹·è´çš„ç ”ç©¶</a></li><li><a href="/blog/Promise.html" class="sidebar-link">Promise</a></li><li><a href="/blog/php_up.html" class="sidebar-link">PHP ä¸ MySQL å¼€å‘å…¥é—¨ä¸Š</a></li><li><a href="/blog/php_middle.html" class="sidebar-link">Php ä¸ MySql å¼€å‘å…¥é—¨ä¸­</a></li><li><a href="/blog/php_down.html" class="sidebar-link">Php ä¸ MySql å¼€å‘å…¥é—¨ä¸‹</a></li><li><a href="/blog/ES5_top.html" class="sidebar-link">ECMAScript5.1 æ–°å¢è¯­æ³•ä¸Š</a></li><li><a href="/blog/ES5_bottom.html" class="sidebar-link">ECMAScript5.1 æ–°å¢è¯­æ³•ä¸‹</a></li><li><a href="/blog/ES5_core.html" class="sidebar-link">ES5 çš„æ ¸å¿ƒæŠ€æœ¯</a></li><li><a href="/blog/ES5_core1.html" class="sidebar-link">ä¸çŸ¥é“çš„ JavaScript</a></li><li><a href="/blog/JavaScriptæ‰§è¡Œå †æ ˆæ¢ç´¢.html" class="sidebar-link">JavaScript æ‰§è¡Œå †æ ˆæ¢ç´¢</a></li><li><a href="/blog/Interview.html" class="sidebar-link">é¢è¯•é¢˜ç§¯ç´¯ 1</a></li><li><a href="/blog/é¢å‘åˆ‡é¢.html" class="sidebar-link">é¢å‘åˆ‡é¢åˆæ¢</a></li><li><a href="/blog/system.html" class="sidebar-link">åˆæ¢ System.js</a></li><li><a href="/blog/å‰ç«¯æ¶æ„ä¸æ€§èƒ½ä¼˜åŒ–é‚£äº›äº‹.html" class="sidebar-link">å‰ç«¯æ¶æ„ä¸æ€§èƒ½ä¼˜åŒ–é‚£äº›äº‹</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>å‰ç«¯æ¡†æ¶</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/blog/vueåŸç†è§£æä¹‹å‡†å¤‡å·¥ä½œ.html" class="sidebar-link">vue åŸç†è§£æä¹‹å‡†å¤‡å·¥ä½œ</a></li><li><a href="/blog/vueåŸç†è§£æä¹‹æ•°æ®é©±åŠ¨.html" class="sidebar-link">vue åŸç†è§£æä¹‹æ•°æ®é©±åŠ¨</a></li><li><a href="/blog/vueåŸç†è§£æä¹‹ç¼–è¯‘æ·±å…¥.html" class="sidebar-link">vue åŸç†è§£æä¹‹ç¼–è¯‘æ·±å…¥</a></li><li><a href="/blog/vueåŸç†è§£æä¹‹å“åº”å¼åŸç†æ·±å…¥.html" class="sidebar-link">vue åŸç†è§£æä¹‹å“åº”å¼åŸç†æ·±å…¥</a></li><li><a href="/blog/ç®€å•çš„å®ç°Vueä¹‹å“åº”å¼.html" class="sidebar-link">ç®€å•çš„å®ç° Vue ä¹‹å“åº”å¼</a></li><li><a href="/blog/vueåŸç†è§£æä¹‹nextTickæ¢ç´¢.html" class="sidebar-link">vue åŸç†è§£æä¹‹ nextTick æ¢ç´¢</a></li><li><a href="/blog/Webpack.html" class="sidebar-link">å¸¸ç”¨çš„å‰ç«¯æ„å»ºå·¥å…·-Webpack</a></li><li><a href="/blog/Webpackä½¿ç”¨æ€»ç»“.html" class="sidebar-link">Webpack ä½¿ç”¨æ€»ç»“</a></li><li><a href="/blog/Webpackç³»åˆ—æ‰‹å†™æ¨¡å—æ‰“åŒ…ä»£ç .html" class="active sidebar-link">Webpack ç³»åˆ—æ‰‹å†™æ¨¡å—æ‰“åŒ…ä»£ç </a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blog/Webpackç³»åˆ—æ‰‹å†™æ¨¡å—æ‰“åŒ…ä»£ç .html#loader" class="sidebar-link">loader</a></li><li class="sidebar-sub-header"><a href="/blog/Webpackç³»åˆ—æ‰‹å†™æ¨¡å—æ‰“åŒ…ä»£ç .html#webpack-æ‰“åŒ…åæ–‡ä»¶åˆ†æ" class="sidebar-link">Webpack æ‰“åŒ…åæ–‡ä»¶åˆ†æ</a></li><li class="sidebar-sub-header"><a href="/blog/Webpackç³»åˆ—æ‰‹å†™æ¨¡å—æ‰“åŒ…ä»£ç .html#æ‰‹å†™ä¸€ä¸ªæ¨¡å—æ‰“åŒ…å™¨" class="sidebar-link">æ‰‹å†™ä¸€ä¸ªæ¨¡å—æ‰“åŒ…å™¨</a></li></ul></li><li><a href="/blog/Reactå…¥é—¨å¿…å­¦[ä¸Š].html" class="sidebar-link">React å…¥é—¨å¿…å­¦ã€ä¸Šã€‘</a></li><li><a href="/blog/Reactå…¥é—¨å¿…å­¦[ä¸‹].html" class="sidebar-link">React å…¥é—¨å¿…å­¦ã€ä¸‹ã€‘</a></li><li><a href="/blog/ReduxåŸç†.html" class="sidebar-link">æ¢ç´¢ Redux åŸç†</a></li><li><a href="/blog/TypeScriptä½¿ç”¨æ‰‹å†Œ.html" class="sidebar-link">TypeScript ä½¿ç”¨æ‰‹å†Œ</a></li><li><a href="/blog/NodeJSå…¥é—¨.html" class="sidebar-link">NodeJS å…¥é—¨</a></li><li><a href="/blog/NodeJSæ¡†æ¶å…¥é—¨.html" class="sidebar-link">NodeJs æ¡†æ¶å…¥é—¨</a></li><li><a href="/blog/NodeJSä½¿ç”¨çš„æ€»ç»“.html" class="sidebar-link">NodeJS ä½¿ç”¨çš„æ€»ç»“</a></li><li><a href="/blog/pm2é¡¹ç›®éƒ¨ç½²æ€»ç»“.html" class="sidebar-link">pm2 é¡¹ç›®éƒ¨ç½²æ€»ç»“</a></li><li><a href="/blog/KOAæºç çš„é˜…è¯».html" class="sidebar-link">KOA æºç çš„é˜…è¯»</a></li><li><a href="/blog/æ·±å…¥KoaåŸç†.html" class="sidebar-link">æ·±å…¥ Koa åŸç†</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>å‰ç«¯æµ‹è¯•</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/blog/js_and_qa.html" class="sidebar-link">JavaScript ä¸ QA æµ‹è¯•å·¥ç¨‹å¸ˆ</a></li><li><a href="/blog/tegratedTesting.html" class="sidebar-link">JavaScript é›†æˆåŒ–æµ‹è¯•</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>å‰ç«¯å·¥å…·</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/blog/ä¸ºä»€ä¹ˆè¦ä½¿ç”¨package-lock.json.html" class="sidebar-link">ä¸ºä»€ä¹ˆè¦ä½¿ç”¨ package-lock.json</a></li><li><a href="/blog/Package.jsonä¾èµ–ç®¡ç†.html" class="sidebar-link">Package.json ä¾èµ–ç®¡ç†</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>è®¡ç®—æœºç½‘ç»œ</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/blog/httpåè®®.html" class="sidebar-link">HTPP åè®®é‚£äº›äº‹</a></li><li><a href="/blog/server-po.html" class="sidebar-link">å‰ç«¯æ€§èƒ½ä¼˜åŒ–å¿…å¤‡æœåŠ¡å™¨çŸ¥è¯†</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>æ“ä½œç³»ç»Ÿ</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/blog/Linux.html" class="sidebar-link">Linux åŸºç¡€å…¥é—¨</a></li><li><a href="/blog/Linux_supplement.html" class="sidebar-link">Linux è¡¥å……</a></li><li><a href="/blog/Linux_web.html" class="sidebar-link">Linux ä¸­é…ç½®é™æ€ç½‘ç»œè¿æ¥</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>æ•°æ®ç»“æ„ä¸ç®—æ³•</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/blog/å‰ç«¯ä¸­çš„æ•°æ®ç»“æ„-æ’åº.html" class="sidebar-link">å‰ç«¯ä¸­çš„æ•°æ®ç»“æ„-æ’åº</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>æ‚è°ˆ</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/blog/æ‚è°ˆ.html" class="sidebar-link">åå°è¯­è¨€</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>å¼€å‘</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/blog/å®æˆ˜1æ­¥éª¤è¯¦è§£.html" class="sidebar-link">å®æˆ˜ï¼šæ‰‹æ­ä¸€ä¸ª Reactï¼ŒTypescriptï¼ŒKoaï¼ŒGraphQL ç¯å¢ƒ</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="webpack-ç³»åˆ—æ‰‹å†™æ¨¡å—æ‰“åŒ…ä»£ç "><a href="#webpack-ç³»åˆ—æ‰‹å†™æ¨¡å—æ‰“åŒ…ä»£ç " class="header-anchor">#</a> Webpack ç³»åˆ—æ‰‹å†™æ¨¡å—æ‰“åŒ…ä»£ç </h1> <h2 id="loader"><a href="#loader" class="header-anchor">#</a> loader</h2> <p>åœ¨æ‰‹å†™æ¨¡å—æ‰“åŒ…ä»£ç ä¹‹å‰ï¼Œå…ˆå­¦ä¸€å­¦å¦‚ä½•å†™ä¸€ä¸ª loader</p> <p>Loader å°±åƒä¸€ä¸ªç¿»è¯‘å‘˜ï¼Œèƒ½å°†æºæ–‡ä»¶ç»è¿‡è½¬åŒ–åè¾“å‡ºæ–°çš„ç»“æœï¼Œå¹¶ä¸”ä¸€ä¸ªæ–‡ä»¶è¿˜å¯ä»¥
é“¾å¼ åœ°ç»è¿‡å¤šä¸ªç¿»è¯‘å‘˜ç¿»è¯‘ã€‚ ä»¥å¤„ç† scss æ–‡ä»¶ä¸ºä¾‹:</p> <p>â€¢ å…ˆå°† scss æºä»£ç æäº¤ç»™ sass-loaderï¼Œå°† scss è½¬æ¢æˆ CSS;</p> <p>â€¢ å°† sass-loader è¾“å‡ºçš„ css æäº¤ç»™ css-loader å¤„ç†ï¼Œæ‰¾å‡º css ä¸­ä¾èµ–çš„èµ„æºã€å‹ç¼©
css ç­‰ï¼›</p> <p>â€¢ å°† css-loader è¾“å‡ºçš„ css æäº¤ç»™ style-loader å¤„ç†ï¼Œè½¬æ¢æˆé€šè¿‡è„šæœ¬åŠ è½½çš„ JavaScript ä»£ç ã€‚</p> <h3 id="åˆ†æä¸€ä¸‹-markdown-loader"><a href="#åˆ†æä¸€ä¸‹-markdown-loader" class="header-anchor">#</a> åˆ†æä¸€ä¸‹ markdown-loader</h3> <p>https://github.com/peerigon/markdown-loader/blob/master/index.js</p> <div class="language-plain line-numbers-mode"><pre class="language-text"><code>&quot;use strict&quot;;

//åˆ†æmarkæºç å·¥å…·
const marked = require(&quot;marked&quot;);
//webpackæä¾›çš„å·¥å…·é›† æ”¶é›†ç”¨æˆ·optionsç­‰ ä¹Ÿå°±æ˜¯webpack.**.jsé‡Œmodule.exportçš„é…ç½®ç­‰
const loaderUtils = require(&quot;loader-utils&quot;);

//æä¾›ä¸€ä¸ªå¯¹å¤–çš„å‡½æ•°
module.exports = function (markdown) {
    // merge params and default config
    const options = loaderUtils.getOptions(this);
    // å½“å‰loaderå¼€å¯ç¼“å­˜
    this.cacheable();
    // ç”¨æˆ·option---&gt;mark
    marked.setOptions(options);
    //string
    return marked(markdown);
};
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br></div></div><h3 id="å®ç°ä¸€ä¸ª-loader"><a href="#å®ç°ä¸€ä¸ª-loader" class="header-anchor">#</a> å®ç°ä¸€ä¸ª loader</h3> <div class="language-plain line-numbers-mode"><pre class="language-text"><code>const loaderUtils = require(&quot;loader-utils&quot;);
//this ä»£è¡¨å½“å‰loaderç±»
module.exports = function(contant) {
    // merge params and default config
    
    const options = loaderUtils.getOptions(this);
    //æ‹¿åˆ°options
    console.log('å‰ç½®çš„é’©å­å‡½æ•°' + this.data.value)
    console.log('ğŸŒ¶ï¸é…ç½®æ–‡ä»¶' + options.data)
    //ä¸ºäº†é¿å…ä½¿ç”¨æ­£åˆ™è¿‡äºå¤æ‚ ----&gt;astğŸŒ²
    //content.replace('const','var')
    //å…³ é—­è¯¥ Loader çš„ç¼“å­˜åŠŸèƒ½,é»˜è®¤ç¼“å­˜æ˜¯å¼€çš„
    this.cacheable(false);
    return contant + &quot;console.log(1111)&quot;;
};

//æŒ‚è½½å‰ç½®çš„é’©å­

module.exports.pitch = function(r, prerequest, data) {
    data.value = &quot;åˆ˜å¸…ğŸ®&quot;
}
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br></div></div><div class="language-plain line-numbers-mode"><pre class="language-text"><code>const path = require('path');
module.exports = {
    module: {
        rules: [{
            test: /\.js$/,
            exclude: /(node_modules|bower_components)/,
            use: {
                loader: path.resolve('./loader/index.js'),
                options: {
                    data: &quot;ğŸŒè‡ªå®šä¹‰é…ç½®é¡¹&quot;
                }
            }
        }]
    }
}
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><h3 id="è¡¥å……"><a href="#è¡¥å……" class="header-anchor">#</a> è¡¥å……</h3> <p>Loader æœ‰åŒæ­¥å’Œå¼‚æ­¥ä¹‹åˆ†ï¼Œä¸Šé¢ä»‹ç»çš„ Loader éƒ½æ˜¯åŒæ­¥çš„ Loaderï¼Œå› ä¸ºå®ƒä»¬çš„è½¬æ¢æµ ç¨‹éƒ½æ˜¯åŒæ­¥ çš„ï¼Œè½¬æ¢å®Œæˆåå†è¿”å›ç»“æœã€‚ä½†åœ¨æŸäº›åœºæ™¯ä¸‹è½¬æ¢çš„æ­¥éª¤åªèƒ½æ˜¯å¼‚æ­¥å®Œæˆçš„ï¼Œä¾‹ å¦‚æˆ‘ä»¬éœ€è¦ é€šè¿‡ç½‘ç»œè¯·æ±‚æ‰èƒ½å¾—å‡ºç»“æœï¼Œå¦‚æœé‡‡ç”¨åŒæ­¥çš„æ–¹å¼ï¼Œåˆ™ç½‘ç»œè¯·æ±‚ä¼šé˜»å¡æ•´ä¸ªæ„å»ºï¼Œ å¯¼è‡´ æ„å»ºéå¸¸ç¼“æ…¢ã€‚
å¦‚æœæ˜¯å¼‚æ­¥è½¬æ¢ï¼Œåˆ™æˆ‘ä»¬å¯ä»¥è¿™æ ·åš:</p> <div class="language-plain line-numbers-mode"><pre class="language-text"><code>module . exports = function (source) {
//å‘Šè¯‰ Webpack æœ¬æ¬¡è½¬æ¢æ˜¯å¼‚æ­¥ çš„ï¼Œ Loader ä¼šåœ¨ callback ä¸­å›è°ƒç»“æœ
var callback= this.async() ;
someAsyncOperation(source, function(err, result , sourceMaps, ast) {
//é€šè¿‡ callback è¿”å›å¼‚æ­¥æ‰§è¡Œåçš„ç»“æœ
callback (err, result, sourceMaps, ast); } ) 
}
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>å¤„ç†äºŒè¿›åˆ¶æ•°æ®</p> <p>åœ¨é»˜ è®¤æƒ…å†µä¸‹ï¼Œ Webpack ä¼ ç»™ Loader çš„åŸå†…å®¹éƒ½æ˜¯ UTF-8 æ ¼å¼ç¼–ç çš„å­—ç¬¦ä¸²ã€‚ä½†åœ¨æŸ äº›åœºæ™¯ä¸‹ Loader ä¸ä¼šå¤„ç†æ–‡æœ¬æ–‡ä»¶ï¼Œè€Œä¼šå¤„ç†äºŒè¿›åˆ¶æ–‡ä»¶å¦‚ file-loaderï¼Œè¿™æ—¶å°±éœ€è¦ Webpack ä¸º Loader ä¼ å…¥äºŒè¿›åˆ¶æ ¼å¼çš„æ•°æ®ã€‚ä¸ºæ­¤ï¼Œæˆ‘ä»¬éœ€è¦è¿™æ ·ç¼–å†™ Loader:</p> <div class="language-plain line-numbers-mode"><pre class="language-text"><code>module. exports = function (source) {
//åœ¨ exports.raw=== true æ—¶ï¼Œ 
//Webpack ä¼ ç»™ Loader çš„ source æ˜¯ Buffer ç±»å‹çš„ 

source instanceof Buffer === true;
//Loader è¿”å›çš„ç±»å‹ä¹Ÿå¯ä»¥æ˜¯ Buffer ç±»å‹çš„
//åœ¨ exports .raw !== true æ—¶ï¼Œ Loader ä¹Ÿå¯ä»¥è¿”å› Buffer ç±»å‹çš„ç»“æœ
return source;
// é€šè¿‡ exports.raw å±æ€§å‘Šè¯‰ Webpack è¯¥ Loader æ˜¯å¦éœ€è¦äºŒè¿›åˆ¶æ•°æ® module .exports . raw = true;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><h2 id="webpack-æ‰“åŒ…åæ–‡ä»¶åˆ†æ"><a href="#webpack-æ‰“åŒ…åæ–‡ä»¶åˆ†æ" class="header-anchor">#</a> Webpack æ‰“åŒ…åæ–‡ä»¶åˆ†æ</h2> <p>ä¸ºäº†æ›´å¥½çš„ç†è§£ webpack æ¨¡å—æ‰“åŒ…æœºåˆ¶ï¼Œæˆ‘ä»¬å…ˆæ¥çœ‹ä¸€ä¸‹ webpack æ‰“åŒ…åçš„æ–‡ä»¶ã€‚</p> <p>å¯¹åˆšæ‰æ‰“åŒ…åçš„æ–‡ä»¶åˆ†æ</p> <div class="language-plain line-numbers-mode"><pre class="language-text"><code>
(function(modules) { // webpackBootstrap
    // The module cache
    //æ¨¡å—çš„ç¼“å­˜
    var installedModules = {};

    // The require function

    function __webpack_require__(moduleId) {

        // Check if module is in cache
        //æ£€æŸ¥å­˜æ¨¡å—ï¼Œæ˜¯å¦ä»¥ç¼“å­˜ä½æ¨¡å—
        if (installedModules[moduleId]) {

            return installedModules[moduleId].exports;

        }
        // Create a new module (and put it into the cache)
        //åˆ›å»ºæ–°çš„ç¼“å­˜å¯¹è±¡
        var module = installedModules[moduleId] = {

            i: moduleId,

            l: false,

            exports: {}

        };

        // Execute the module function
        //æ‰§è¡Œå…¥å£å‡½æ•°
        modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);

        // Flag the module as loaded

        // Return the exports of the module

        return module.exports;

    }
    // Load entry module and return exports
    //åŠ è½½å…¥å£
    return __webpack_require__(__webpack_require__.s = &quot;./src/index.js&quot;);

})
({

    &quot;./src/index.js&quot;: (function(module, exports) {

        console.log(&quot;æˆ‘æ˜¯å…¥å£æ–‡ä»¶&quot;);
        console.log(1111)
    })


});

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br></div></div><p>ä¸Šè¿°ä»£ç ä¸»è¦ç”±ä»¥ä¸‹å‡ ä¸ªéƒ¨åˆ†ç»„æˆï¼š</p> <p>æœ€å¤–å±‚æ˜¯ä¸€ä¸ªè‡ªæ‰§è¡Œå‡½æ•°</p> <p>è‡ªæ‰§è¡Œå‡½æ•°ä¼šä¼ é€’ä¸€ä¸ª modules å‚æ•°ï¼Œè¿™ä¸ªå‚æ•°æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œ{key: æ–‡ä»¶è·¯å¾„,value: å‡½æ•°}ï¼Œvalue ä¸­çš„å‡½æ•°å†…éƒ¨æ˜¯æ‰“åŒ…å‰æ¨¡å—çš„ js ä»£ç ã€‚</p> <p>å†…éƒ¨è‡ªå®šä¹‰ä¸€ä¸ª <strong>webpack_require</strong> æ‰§è¡Œå™¨ï¼Œç”¨æ¥æ‰§è¡Œå¯¼å…¥çš„æ–‡ä»¶ï¼Œå¹¶å¯¼å‡º exportsã€‚</p> <p>å®ç°äº† common.js è§„èŒƒï¼Œä¸å‘ç½‘ç»œè¯·æ±‚ï¼ŒæŠŠåŒ…æ‰“åŒ…åˆ°äº†è‡ªå·±èº«ä¸Š
eval ç¼–è¯‘å¿«æ‰§è¡Œå¿«</p> <p>æ–°å»º src/async1.js</p> <div class="language-plain line-numbers-mode"><pre class="language-text"><code>
//async1.js
const async1 = 'webpackæºç åˆ†æasync1';
export default async1;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>//æŠ½ç¦»å‡ºçš„ main.js</p> <div class="language-plain line-numbers-mode"><pre class="language-text"><code>  (function(modules) {

      var installedModules = {};

      function __webpack_require__(moduleId) {

          if (installedModules[moduleId]) {
              return installedModules[moduleId].exports;
          }
          var module = installedModules[moduleId] = {
              exports: {}
          };
          modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);


          return module.exports;
      }

      return __webpack_require__(&quot;./src/index.js&quot;);
  })
  ({

      &quot;./src/async1.js&quot;:

          (function(module, __webpack_exports__, __webpack_require__) {
          const async = `hello nihao`;
          __webpack_exports__[&quot;default&quot;] = (async)

      }),

      &quot;./src/index.js&quot;:

          (function(module, __webpack_exports__, __webpack_require__) {
          var _async1__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(&quot;./src/async1.js&quot;);
          //import å°±ç›¸å½“äº var async1 = __webpack_require__(&quot;./src/async1.js&quot;);
          console.log(_async1__WEBPACK_IMPORTED_MODULE_0__[&quot;default&quot;])

      })

  });
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br></div></div><h2 id="æ‰‹å†™ä¸€ä¸ªæ¨¡å—æ‰“åŒ…å™¨"><a href="#æ‰‹å†™ä¸€ä¸ªæ¨¡å—æ‰“åŒ…å™¨" class="header-anchor">#</a> æ‰‹å†™ä¸€ä¸ªæ¨¡å—æ‰“åŒ…å™¨</h2> <h3 id="æ•´ä½“æµç¨‹åˆ†æ"><a href="#æ•´ä½“æµç¨‹åˆ†æ" class="header-anchor">#</a> æ•´ä½“æµç¨‹åˆ†æ</h3> <p>1.è¯»å–å…¥å£æ–‡ä»¶</p> <p>2.å°†å†…å®¹è½¬æ¢ä¸º ast æ ‘</p> <p>3.æ·±åº¦éå†è¯­æ³•æ ‘ï¼Œæ‰¾åˆ°æ‰€æœ‰çš„ä¾èµ–ï¼Œå¹¶åŠ å…¥åˆ°ä¸€ä¸ªæ•°ç»„ä¸­ã€‚</p> <p>4.å°† ast æ ‘è½¬æ¢ä¸ºå¯æ‰§è¡Œ js çš„ä»£ç </p> <p>5 ç¼–å†™__webpack_require__å‡½æ•°ï¼Œæ ¹æ®å…¥å£æ–‡ä»¶è‡ªåŠ¨æ‰§è¡Œå®Œæ‰€æœ‰çš„ä¾èµ–ã€‚</p> <p>æ ¹æ®ä¸Šè¿°æ­¥éª¤å¼€å§‹å†™ä»£ç ğŸ˜Š</p> <p>ä»£ç å±‚åˆ†ä¸ºå››å±‚</p> <p>ä¸€å±‚è¯»å–å…¥å£æ–‡ä»¶ï¼Œå°†å†…å®¹è½¬åŒ–ä¸º astï¼ˆæŠ½è±¡è¯­æ³•æ ‘ï¼‰æ ‘ï¼Œéå†è¯­æ³•æ ‘å¹¶å°† import xxx from './xxx.js' è½¬åŒ–ä¸º var xxx = <strong>webpack_require</strong>(&quot;xxx&quot;); å°† export default xxx è½¬åŒ–ä¸º <strong>webpack_exports</strong>[&quot;default&quot;] = xxx</p> <div class="language-plain line-numbers-mode"><pre class="language-text"><code>function parse(filename) {
    const contant = fs.readFileSync(filename, 'utf-8');
    //å°†å­—ç¬¦ä¸²è½¬æ¢ä¸ºastæŠ½è±¡è¯­æ³•æ ‘
    const ast = parser.parse(contant, {
            sourceType: 'module'
        })
        // console.log(ast)
    const code = new MagicString(contant);
    //éå†æŠ½è±¡è¯­æ³•æ ‘
    traverse(ast, {
        ExportDeclaration({
            node
        }) {
            const {
                start,
                end,
                declaration,
            } = node;
            code.overwrite(start, end,
                `__webpack_exports__[&quot;default&quot;]=${declaration.name}`
            )
        },
        ImportDeclaration({
            node
        }) {
            // console.log('ğŸŒŸğŸŒŸ', node)
            const {
                start,
                end,
                specifiers,
                source
            } = node;
            const newFile = &quot;./src/&quot; + path.join(source.value) + '.js';
            code.overwrite(start, end,
                `var ${specifiers[0].local.name}=__webpack_require__(&quot;${newFile}&quot;).default`
            )
        }
    })
    const _code = code.toString()
}

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br></div></div><p>äºŒå±‚ æ·±åº¦éå†è¯­æ³•æ ‘ï¼Œæ‰¾åˆ°æ‰€æœ‰ä¾èµ–å¹¶æ”¾å…¥æ•°ç»„ä¸­ï¼Œç”Ÿæˆæ‰€æœ‰èµ„æºå¯¹è±¡æ•°ç»„ã€‚</p> <div class="language-plain line-numbers-mode"><pre class="language-text"><code>    //  å…¨å±€çš„ä¾èµ–é¡¹
const dependencies = [];

function parse(filename) {
    const contant = fs.readFileSync(filename, 'utf-8');
    //è·å–å½“å‰çš„ä¾èµ–
    const garphArray = [];
    //å°†å­—ç¬¦ä¸²è½¬æ¢ä¸ºastæŠ½è±¡è¯­æ³•æ ‘
    const ast = parser.parse(contant, {
            sourceType: 'module'
        })
        // console.log(ast)
    const code = new MagicString(contant);
    //éå†æŠ½è±¡è¯­æ³•æ ‘
    traverse(ast, {
        ExportDeclaration({
            node
        }) {
            const {
                start,
                end,
                declaration,
            } = node;
            code.overwrite(start, end,
                `__webpack_exports__[&quot;default&quot;]=${declaration.name}`
            )
        },
        ImportDeclaration({
            node
        }) {
            // console.log('ğŸŒŸğŸŒŸ', node)
            const {
                start,
                end,
                specifiers,
                source
            } = node;
            const newFile = &quot;./src/&quot; + path.join(source.value) + '.js';
            code.overwrite(start, end,
                `var ${specifiers[0].local.name}=__webpack_require__(&quot;${newFile}&quot;).default`
            )
            garphArray.push(newFile);
        }
    })
    const _code = code.toString()
    dependencies.push({
        filename,
        _code
    });
    return garphArray;
}
let garphArray = parse(entryPonint);
//å¯¹å…¶è¿›è¡Œé€’å½’
for (let item of garphArray) {
    parse(item)
}
console.log(dependencies)

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br></div></div><p>ä¸‰å±‚ å°è£…è‡ªæ‰§è¡Œå‡½æ•°ï¼Œåˆ›å»º <strong>webpack_require</strong> æ–¹æ³•ï¼Œå¤„ç†æ–‡ä»¶ç›¸äº’ä¾èµ–ï¼Œè¯¥å¤„å¼•å…¥ ejs å¯¹æ¨¡ç‰ˆå¤„ç†</p> <div class="language-plain line-numbers-mode"><pre class="language-text"><code>const template = `
  (function (modules) {

      var installedModules = {};

      function __webpack_require__(moduleId) {
          if (installedModules[moduleId]) {
              return installedModules[moduleId].exports;
          }
          var module = installedModules[moduleId] = {
              exports: {}
          };
          modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);

          return module.exports;
      }
      return __webpack_require__(&quot;${entryPonint}&quot;);
  })
  ({

    &lt;% for(var i = 0; i &lt; dependencies.length; i++){ %&gt;
        &quot;&lt;%-dependencies[i][&quot;filename&quot;]%&gt;&quot;:
        (function (module, __webpack_exports__, __webpack_require__) {
               &lt;%-dependencies[i][&quot;_code&quot;]%&gt;
            }),
    &lt;% } %&gt;
  });
`;

let result = ejs.render(template, {
    dependencies
})
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br></div></div><p>å››å±‚ å°†å…¶ result æ¨¡ç‰ˆ å†™å‡º</p> <div class="language-plain line-numbers-mode"><pre class="language-text"><code>fs.writeFileSync(&quot;./dist/main.js&quot;, result)
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h3 id="ç›¸å…³é“¾æ¥"><a href="#ç›¸å…³é“¾æ¥" class="header-anchor">#</a> ç›¸å…³é“¾æ¥</h3> <p><a href="https://github.com/wendaoshuai66/diy-webpack" target="_blank" rel="noopener noreferrer">git ä»“åº“<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/wendaoshuai66/blogs/edit/master/docs/blog/Webpackç³»åˆ—æ‰‹å†™æ¨¡å—æ‰“åŒ…ä»£ç .md" target="_blank" rel="noopener noreferrer">æœ¬æ–‡æºç åœ°å€</a> <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></div> <div class="last-updated"><span class="prefix">æ›´æ–°æ—¶é—´:</span> <span class="time">2/5/2020, 1:10:59 AM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      â†
      <a href="/blog/Webpackä½¿ç”¨æ€»ç»“.html" class="prev">
        Webpack ä½¿ç”¨æ€»ç»“
      </a></span> <span class="next"><a href="/blog/Reactå…¥é—¨å¿…å­¦[ä¸Š].html">
        React å…¥é—¨å¿…å­¦ã€ä¸Šã€‘
      </a>
      â†’
    </span></p></div> </main></div><div class="global-ui"><!----></div></div>
    <script src="/assets/js/app.7db32d51.js" defer></script><script src="/assets/js/2.1f0a0a54.js" defer></script><script src="/assets/js/29.5992374f.js" defer></script>
  </body>
</html>
